{"version":3,"names":["ANIMATION_DURATION","USE_NATIVE_DRIVER","withAnimation","ComposedComponent","WrapperComponent","React","forwardRef","props","ref","animateFrom","distance","style","composedComponentProps","opacity","useRef","Animated","Value","current","margin","startComponentShowAnimation","callback","parallel","timing","toValue","duration","useNativeDriver","start","startComponentHideAnimation","useImperativeHandle","show","hide","wrapperStyle","marginLeft","undefined","marginTop","marginRight","marginBottom"],"sources":["withAnimation.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  StyleProp,\n  ViewStyle,\n} from 'react-native';\n\nconst ANIMATION_DURATION = 350;\nconst USE_NATIVE_DRIVER = false;\n\nexport type WrapperComponentRef = {\n  show: (callback?: Animated.EndCallback) => void;\n  hide: (callback?: Animated.EndCallback) => void;\n};\n\nexport const withAnimation = <ComposedComponentProps extends object>(\n  ComposedComponent: React.ComponentType<ComposedComponentProps>\n) => {\n  type WrapperComponentProps = ComposedComponentProps & {\n    animateFrom: 'LEFT' | 'RIGHT' | 'TOP' | 'BOTTOM';\n    distance: number;\n    style?: StyleProp<ViewStyle>;\n  };\n\n  const WrapperComponent = React.forwardRef<\n    WrapperComponentRef,\n    WrapperComponentProps\n  >((props, ref) => {\n    const {\n      animateFrom,\n      distance,\n      style,\n      ...composedComponentProps\n    } = props;\n\n    const opacity = React.useRef(new Animated.Value(0)).current;\n    const margin = React.useRef(new Animated.Value(-distance)).current;\n\n    const startComponentShowAnimation = (callback?: Animated.EndCallback) => {\n      Animated.parallel([\n        Animated.timing(opacity, {\n          toValue: 1,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(margin, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n      ]).start(callback);\n    };\n\n    const startComponentHideAnimation = (callback?: Animated.EndCallback) => {\n      Animated.parallel([\n        Animated.timing(opacity, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(margin, {\n          toValue: -distance,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n      ]).start(callback);\n    };\n\n    React.useImperativeHandle(ref, () => ({\n      show: (callback?: Animated.EndCallback) => {\n        startComponentShowAnimation(callback);\n      },\n      hide: (callback?: Animated.EndCallback) => {\n        startComponentHideAnimation(callback);\n      },\n    }));\n\n    const wrapperStyle = {\n      opacity,\n      marginLeft: animateFrom === 'LEFT' ? margin : undefined,\n      marginTop: animateFrom === 'TOP' ? margin : undefined,\n      marginRight: animateFrom === 'RIGHT' ? margin : undefined,\n      marginBottom: animateFrom === 'BOTTOM' ? margin : undefined,\n    };\n\n    return (\n      <ComposedComponent\n        style={[style, wrapperStyle]}\n        {...(composedComponentProps as ComposedComponentProps)}\n      />\n    );\n  });\n\n  return WrapperComponent;\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAMA,MAAMA,kBAAkB,GAAG,GAA3B;AACA,MAAMC,iBAAiB,GAAG,KAA1B;;AAOO,MAAMC,aAAa,GACxBC,iBAD2B,IAExB;EAOH,MAAMC,gBAAgB,gBAAGC,cAAA,CAAMC,UAAN,CAGvB,CAACC,KAAD,EAAQC,GAAR,KAAgB;IAChB,MAAM;MACJC,WADI;MAEJC,QAFI;MAGJC,KAHI;MAIJ,GAAGC;IAJC,IAKFL,KALJ;;IAOA,MAAMM,OAAO,GAAGR,cAAA,CAAMS,MAAN,CAAa,IAAIC,qBAAA,CAASC,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAApD;;IACA,MAAMC,MAAM,GAAGb,cAAA,CAAMS,MAAN,CAAa,IAAIC,qBAAA,CAASC,KAAb,CAAmB,CAACN,QAApB,CAAb,EAA4CO,OAA3D;;IAEA,MAAME,2BAA2B,GAAIC,QAAD,IAAqC;MACvEL,qBAAA,CAASM,QAAT,CAAkB,CAChBN,qBAAA,CAASO,MAAT,CAAgBT,OAAhB,EAAyB;QACvBU,OAAO,EAAE,CADc;QAEvBC,QAAQ,EAAExB,kBAFa;QAGvByB,eAAe,EAAExB;MAHM,CAAzB,CADgB,EAMhBc,qBAAA,CAASO,MAAT,CAAgBJ,MAAhB,EAAwB;QACtBK,OAAO,EAAE,CADa;QAEtBC,QAAQ,EAAExB,kBAFY;QAGtByB,eAAe,EAAExB;MAHK,CAAxB,CANgB,CAAlB,EAWGyB,KAXH,CAWSN,QAXT;IAYD,CAbD;;IAeA,MAAMO,2BAA2B,GAAIP,QAAD,IAAqC;MACvEL,qBAAA,CAASM,QAAT,CAAkB,CAChBN,qBAAA,CAASO,MAAT,CAAgBT,OAAhB,EAAyB;QACvBU,OAAO,EAAE,CADc;QAEvBC,QAAQ,EAAExB,kBAFa;QAGvByB,eAAe,EAAExB;MAHM,CAAzB,CADgB,EAMhBc,qBAAA,CAASO,MAAT,CAAgBJ,MAAhB,EAAwB;QACtBK,OAAO,EAAE,CAACb,QADY;QAEtBc,QAAQ,EAAExB,kBAFY;QAGtByB,eAAe,EAAExB;MAHK,CAAxB,CANgB,CAAlB,EAWGyB,KAXH,CAWSN,QAXT;IAYD,CAbD;;IAeAf,cAAA,CAAMuB,mBAAN,CAA0BpB,GAA1B,EAA+B,OAAO;MACpCqB,IAAI,EAAGT,QAAD,IAAqC;QACzCD,2BAA2B,CAACC,QAAD,CAA3B;MACD,CAHmC;MAIpCU,IAAI,EAAGV,QAAD,IAAqC;QACzCO,2BAA2B,CAACP,QAAD,CAA3B;MACD;IANmC,CAAP,CAA/B;;IASA,MAAMW,YAAY,GAAG;MACnBlB,OADmB;MAEnBmB,UAAU,EAAEvB,WAAW,KAAK,MAAhB,GAAyBS,MAAzB,GAAkCe,SAF3B;MAGnBC,SAAS,EAAEzB,WAAW,KAAK,KAAhB,GAAwBS,MAAxB,GAAiCe,SAHzB;MAInBE,WAAW,EAAE1B,WAAW,KAAK,OAAhB,GAA0BS,MAA1B,GAAmCe,SAJ7B;MAKnBG,YAAY,EAAE3B,WAAW,KAAK,QAAhB,GAA2BS,MAA3B,GAAoCe;IAL/B,CAArB;IAQA,oBACE,6BAAC,iBAAD;MACE,KAAK,EAAE,CAACtB,KAAD,EAAQoB,YAAR;IADT,GAEOnB,sBAFP,EADF;EAMD,CAnEwB,CAAzB;;EAqEA,OAAOR,gBAAP;AACD,CA/EM"}