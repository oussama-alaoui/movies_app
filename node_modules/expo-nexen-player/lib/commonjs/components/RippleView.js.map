{"version":3,"names":["RIPPLE_ANIM_DURATION","BLINK_ANIM_DURATION","RippleView","React","forwardRef","props","ref","style","containerStyle","rippleStyle","rippleSize","children","tipText","setTipText","useState","rippleOpacity","useRef","Animated","Value","current","rippleScale","blinkViewOpacity","useImperativeHandle","onPress","newTipText","callback","startRippleAnimation","startBlinkAnimation","parallel","timing","toValue","duration","useNativeDriver","start","finished","setValue","animSequence","sequence","easing","Easing","linear","animation","loop","iterations","styles","container","ripple","width","height","borderRadius","opacity","transform","scale","innerContainer","flex","flashContainer","text","StyleSheet","create","justifyContent","alignItems","position","backgroundColor","fontSize","fontWeight","color","margin","textAlign"],"sources":["RippleView.tsx"],"sourcesContent":["import React, { useImperativeHandle } from 'react';\nimport {\n  Animated,\n  Easing,\n  StyleProp,\n  StyleSheet,\n  View,\n  ViewStyle,\n} from 'react-native';\n\nconst RIPPLE_ANIM_DURATION = 500;\nconst BLINK_ANIM_DURATION = 200;\n\nexport interface RippleViewTheme {}\n\ntype RippleViewProps = {\n  children: JSX.Element;\n  rippleSize?: number;\n  style?: StyleProp<ViewStyle>;\n  containerStyle?: StyleProp<ViewStyle>;\n  rippleStyle?: StyleProp<ViewStyle>;\n};\n\nexport type RippleEvent = { x: number; y: number };\nexport type RippleViewRef = {\n  onPress: (newTipText?: string, callback?: () => void) => void;\n};\n\nconst RippleView = React.forwardRef<RippleViewRef, RippleViewProps>(\n  (props, ref) => {\n    const { style, containerStyle, rippleStyle, rippleSize, children } = props;\n    const [tipText, setTipText] = React.useState('');\n\n    const rippleOpacity = React.useRef(new Animated.Value(0)).current;\n    const rippleScale = React.useRef(new Animated.Value(0)).current;\n    const blinkViewOpacity = React.useRef(new Animated.Value(0)).current;\n\n    useImperativeHandle(ref, () => ({\n      onPress: (newTipText?: string, callback?: () => void) => {\n        startRippleAnimation(() => {\n          callback?.();\n        });\n        startBlinkAnimation();\n        if (newTipText) {\n          setTipText(newTipText);\n        }\n      },\n    }));\n    const startRippleAnimation = (callback?: () => void) => {\n      Animated.parallel([\n        Animated.timing(rippleOpacity, {\n          toValue: 0.7,\n          duration: RIPPLE_ANIM_DURATION,\n          useNativeDriver: false,\n        }),\n        Animated.timing(rippleScale, {\n          toValue: 1.2,\n          duration: RIPPLE_ANIM_DURATION,\n          useNativeDriver: false,\n        }),\n      ]).start(({ finished }) => {\n        if (finished) {\n          Animated.timing(rippleOpacity, {\n            toValue: 0,\n            duration: 300,\n            useNativeDriver: false,\n          }).start(() => {\n            rippleScale.setValue(0);\n            callback?.();\n          });\n        }\n      });\n    };\n\n    const startBlinkAnimation = (callback?: () => void) => {\n      const animSequence = Animated.sequence([\n        Animated.timing(blinkViewOpacity, {\n          toValue: 0.8,\n          duration: BLINK_ANIM_DURATION,\n          easing: Easing.linear,\n          useNativeDriver: true,\n        }),\n        Animated.timing(blinkViewOpacity, {\n          toValue: 0,\n          duration: BLINK_ANIM_DURATION,\n          easing: Easing.linear,\n          useNativeDriver: true,\n        }),\n      ]);\n      let animation = Animated.loop(animSequence, { iterations: 2 });\n      animation.start(() => {\n        callback?.();\n      });\n    };\n\n    return (\n      <View style={[styles.container, style]} pointerEvents=\"none\">\n        <Animated.View\n          style={[\n            styles.ripple,\n            {\n              width: rippleSize! * 2,\n              height: rippleSize! * 2,\n              borderRadius: rippleSize!,\n            },\n            rippleStyle,\n            {\n              opacity: rippleOpacity,\n              transform: [{ scale: rippleScale }],\n            },\n          ]}\n        />\n        <View style={[styles.innerContainer, containerStyle]}>\n          <View style={{ flex: 0.45 }} />\n          <View style={{ flex: 0.55 }}>\n            <Animated.View\n              style={[styles.flashContainer, { opacity: blinkViewOpacity }]}\n            >\n              {children}\n            </Animated.View>\n            <Animated.Text style={[styles.text, { opacity: blinkViewOpacity }]}>\n              {tipText}\n            </Animated.Text>\n          </View>\n        </View>\n      </View>\n    );\n  }\n);\n\nexport default RippleView;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  innerContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  ripple: {\n    position: 'absolute',\n    backgroundColor: 'rgba(250,250,250,0.3)',\n  },\n  flashContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  text: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#fafafa',\n    margin: 6,\n    textAlign: 'center',\n  },\n});\n"],"mappings":"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"}