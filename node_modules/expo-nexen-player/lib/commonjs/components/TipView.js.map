{"version":3,"names":["TipView","React","forwardRef","props","ref","style","theme","state","setState","useState","showTip","tipText","autoHide","withIcon","icon","timeoutRef","useRef","useImperativeHandle","updateState","newState","textStyle","color","textColor","fontSize","textSize","fontFamily","font","useEffect","current","clearTimeout","setTimeout","styles","container","iconContainer","text","StyleSheet","create","flexDirection","marginRight"],"sources":["TipView.tsx"],"sourcesContent":["import React, {useImperativeHandle} from 'react';\nimport {ColorValue, StyleProp, StyleSheet, Text, View, ViewStyle} from 'react-native';\nimport {IconInfo} from '../assets/icons';\nimport ModalView from './ModalView';\n\nexport interface TipViewTheme {\n  iconSize?: number;\n  iconColor?: ColorValue;\n  textSize?: number;\n  textColor?: ColorValue;\n  font?: string;\n}\n\ntype TipViewProps = {\n  theme?: TipViewTheme;\n  style?: StyleProp<ViewStyle>;\n};\n\ntype TipViewState = {\n  showTip?: boolean;\n  tipText?: string;\n  autoHide?: boolean;\n  withIcon?: boolean;\n  icon?: JSX.Element;\n};\nexport type TipViewRef = {\n  updateState: (newState: TipViewState) => void;\n};\n\nconst TipView = React.forwardRef<TipViewRef, TipViewProps>((props, ref) => {\n  const {style, theme} = props;\n\n  const [state, setState] = React.useState<TipViewState>({\n    showTip: false,\n    tipText: 'Tip Text',\n    autoHide: true,\n    withIcon: false,\n    icon: <IconInfo size={20} color={'#fafafa'}/>,\n  });\n  const timeoutRef = React.useRef<NodeJS.Timeout | null>();\n\n  useImperativeHandle(ref, () => ({\n    updateState: (newState: TipViewState) => {\n      setState({...state, ...newState});\n    },\n  }));\n\n  const textStyle = {\n    color: theme?.textColor,\n    fontSize: theme?.textSize,\n    fontFamily: theme?.font,\n  }\n\n  React.useEffect(() => {\n    if (state.autoHide) {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      if (state.showTip) {\n        timeoutRef.current = setTimeout(() => {\n          setState({...state, showTip: false, withIcon: false});\n        }, 1200);\n      }\n    }\n  }, [state]);\n\n  React.useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    }\n  }, [])\n\n  return (\n    <>\n      {state.showTip && (\n        <ModalView style={[styles.container, style]}>\n          {state.withIcon && (\n            <View style={styles.iconContainer}>{state.icon}</View>\n          )}\n          <Text style={[styles.text, textStyle]}>\n            {state.tipText}\n          </Text>\n        </ModalView>\n      )}\n    </>\n  );\n});\n\nexport default TipView;\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n  },\n  iconContainer: {\n    marginRight: 8,\n  },\n  text: {\n    fontSize: 20,\n  },\n});\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;AA0BA,MAAMA,OAAO,gBAAGC,cAAA,CAAMC,UAAN,CAA2C,CAACC,KAAD,EAAQC,GAAR,KAAgB;EACzE,MAAM;IAACC,KAAD;IAAQC;EAAR,IAAiBH,KAAvB;;EAEA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBP,cAAA,CAAMQ,QAAN,CAA6B;IACrDC,OAAO,EAAE,KAD4C;IAErDC,OAAO,EAAE,UAF4C;IAGrDC,QAAQ,EAAE,IAH2C;IAIrDC,QAAQ,EAAE,KAJ2C;IAKrDC,IAAI,eAAE,6BAAC,eAAD;MAAU,IAAI,EAAE,EAAhB;MAAoB,KAAK,EAAE;IAA3B;EAL+C,CAA7B,CAA1B;;EAOA,MAAMC,UAAU,GAAGd,cAAA,CAAMe,MAAN,EAAnB;;EAEA,IAAAC,0BAAA,EAAoBb,GAApB,EAAyB,OAAO;IAC9Bc,WAAW,EAAGC,QAAD,IAA4B;MACvCX,QAAQ,CAAC,EAAC,GAAGD,KAAJ;QAAW,GAAGY;MAAd,CAAD,CAAR;IACD;EAH6B,CAAP,CAAzB;EAMA,MAAMC,SAAS,GAAG;IAChBC,KAAK,EAAEf,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEgB,SADE;IAEhBC,QAAQ,EAAEjB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEkB,QAFD;IAGhBC,UAAU,EAAEnB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEoB;EAHH,CAAlB;;EAMAzB,cAAA,CAAM0B,SAAN,CAAgB,MAAM;IACpB,IAAIpB,KAAK,CAACK,QAAV,EAAoB;MAClB,IAAIG,UAAU,CAACa,OAAf,EAAwB;QACtBC,YAAY,CAACd,UAAU,CAACa,OAAZ,CAAZ;MACD;;MACD,IAAIrB,KAAK,CAACG,OAAV,EAAmB;QACjBK,UAAU,CAACa,OAAX,GAAqBE,UAAU,CAAC,MAAM;UACpCtB,QAAQ,CAAC,EAAC,GAAGD,KAAJ;YAAWG,OAAO,EAAE,KAApB;YAA2BG,QAAQ,EAAE;UAArC,CAAD,CAAR;QACD,CAF8B,EAE5B,IAF4B,CAA/B;MAGD;IACF;EACF,CAXD,EAWG,CAACN,KAAD,CAXH;;EAaAN,cAAA,CAAM0B,SAAN,CAAgB,MAAM;IACpB,OAAO,MAAM;MACX,IAAIZ,UAAU,CAACa,OAAf,EAAwB;QACtBC,YAAY,CAACd,UAAU,CAACa,OAAZ,CAAZ;MACD;IACF,CAJD;EAKD,CAND,EAMG,EANH;;EAQA,oBACE,4DACGrB,KAAK,CAACG,OAAN,iBACC,6BAAC,kBAAD;IAAW,KAAK,EAAE,CAACqB,MAAM,CAACC,SAAR,EAAmB3B,KAAnB;EAAlB,GACGE,KAAK,CAACM,QAAN,iBACC,6BAAC,iBAAD;IAAM,KAAK,EAAEkB,MAAM,CAACE;EAApB,GAAoC1B,KAAK,CAACO,IAA1C,CAFJ,eAIE,6BAAC,iBAAD;IAAM,KAAK,EAAE,CAACiB,MAAM,CAACG,IAAR,EAAcd,SAAd;EAAb,GACGb,KAAK,CAACI,OADT,CAJF,CAFJ,CADF;AAcD,CA3De,CAAhB;;eA6DeX,O;;;AAEf,MAAM+B,MAAM,GAAGI,uBAAA,CAAWC,MAAX,CAAkB;EAC/BJ,SAAS,EAAE;IACTK,aAAa,EAAE;EADN,CADoB;EAI/BJ,aAAa,EAAE;IACbK,WAAW,EAAE;EADA,CAJgB;EAO/BJ,IAAI,EAAE;IACJX,QAAQ,EAAE;EADN;AAPyB,CAAlB,CAAf"}