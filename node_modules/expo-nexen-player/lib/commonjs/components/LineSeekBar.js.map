{"version":3,"names":["LineSeekBar","props","trackTime","totalTrackTime","layoutWidth","theme","isRTL","I18nManager","rtlMultiplier","seekWidth","React","useRef","Animated","Value","current","seekableDistance","useEffect","position","boundPosition","trackToSeekValue","setValue","styles","container","totalTrack","height","lineHeight","borderRadius","backgroundColor","lineUnderlayColor","track","width","lineColor","StyleSheet","create","left","right","bottom","justifyContent","zIndex"],"sources":["LineSeekBar.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  I18nManager,\n  StyleSheet,\n  View,\n} from 'react-native';\nimport type { LineBarTheme } from '../utils/Theme';\nimport { boundPosition, trackToSeekValue } from '../utils/MathUtil';\n\nexport interface LineSeekBarTheme extends LineBarTheme {\n  lineHeight?: number;\n}\n\ntype LineSeekBarProps = {\n  trackTime: number;\n  totalTrackTime: number;\n  layoutWidth: number;\n  theme?: LineSeekBarTheme;\n};\n\nconst LineSeekBar = (props: LineSeekBarProps) => {\n  const { trackTime, totalTrackTime, layoutWidth, theme } = props;\n  const isRTL = I18nManager.isRTL;\n  const rtlMultiplier = isRTL ? -1 : 1;\n\n  const seekWidth = React.useRef(new Animated.Value(0)).current;\n  const seekableDistance = React.useRef(0);\n\n  React.useEffect(() => {\n    seekableDistance.current = layoutWidth * rtlMultiplier;\n    const position = boundPosition(\n      trackToSeekValue(trackTime, totalTrackTime, seekableDistance.current),\n      seekableDistance.current\n    );\n    seekWidth.setValue(position * rtlMultiplier);\n  }, [trackTime, totalTrackTime, layoutWidth]);\n  \n  return (\n    <View style={styles.container}>\n      <View\n        style={[\n          styles.totalTrack,\n          {\n            height: theme?.lineHeight,\n            borderRadius: theme?.lineHeight! / 2,\n            backgroundColor: theme?.lineUnderlayColor,\n          },\n        ]}\n      />\n      <Animated.View\n        style={[\n          styles.track,\n          {\n            width: seekWidth,\n            height: theme?.lineHeight,\n            borderRadius: theme?.lineHeight! / 2,\n            backgroundColor: theme?.lineColor,\n          },\n        ]}\n      />\n    </View>\n  );\n};\n\nexport default LineSeekBar;\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    zIndex: 999,\n  },\n  totalTrack: {\n    position: 'absolute',\n    width: '100%',\n    height: 2,\n    borderRadius: 1,\n  },\n  track: {\n    height: 2,\n    borderRadius: 1,\n  },\n});\n"],"mappings":";;;;;;;AAAA;;AACA;;AAOA;;;;AAaA,MAAMA,WAAW,GAAIC,KAAD,IAA6B;EAC/C,MAAM;IAAEC,SAAF;IAAaC,cAAb;IAA6BC,WAA7B;IAA0CC;EAA1C,IAAoDJ,KAA1D;EACA,MAAMK,KAAK,GAAGC,wBAAA,CAAYD,KAA1B;EACA,MAAME,aAAa,GAAGF,KAAK,GAAG,CAAC,CAAJ,GAAQ,CAAnC;;EAEA,MAAMG,SAAS,GAAGC,cAAA,CAAMC,MAAN,CAAa,IAAIC,qBAAA,CAASC,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAAtD;;EACA,MAAMC,gBAAgB,GAAGL,cAAA,CAAMC,MAAN,CAAa,CAAb,CAAzB;;EAEAD,cAAA,CAAMM,SAAN,CAAgB,MAAM;IACpBD,gBAAgB,CAACD,OAAjB,GAA2BV,WAAW,GAAGI,aAAzC;IACA,MAAMS,QAAQ,GAAG,IAAAC,uBAAA,EACf,IAAAC,0BAAA,EAAiBjB,SAAjB,EAA4BC,cAA5B,EAA4CY,gBAAgB,CAACD,OAA7D,CADe,EAEfC,gBAAgB,CAACD,OAFF,CAAjB;IAIAL,SAAS,CAACW,QAAV,CAAmBH,QAAQ,GAAGT,aAA9B;EACD,CAPD,EAOG,CAACN,SAAD,EAAYC,cAAZ,EAA4BC,WAA5B,CAPH;;EASA,oBACE,6BAAC,iBAAD;IAAM,KAAK,EAAEiB,MAAM,CAACC;EAApB,gBACE,6BAAC,iBAAD;IACE,KAAK,EAAE,CACLD,MAAM,CAACE,UADF,EAEL;MACEC,MAAM,EAAEnB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEoB,UADjB;MAEEC,YAAY,EAAE,CAAArB,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEoB,UAAP,IAAqB,CAFrC;MAGEE,eAAe,EAAEtB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEuB;IAH1B,CAFK;EADT,EADF,eAWE,6BAAC,qBAAD,CAAU,IAAV;IACE,KAAK,EAAE,CACLP,MAAM,CAACQ,KADF,EAEL;MACEC,KAAK,EAAErB,SADT;MAEEe,MAAM,EAAEnB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEoB,UAFjB;MAGEC,YAAY,EAAE,CAAArB,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEoB,UAAP,IAAqB,CAHrC;MAIEE,eAAe,EAAEtB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAE0B;IAJ1B,CAFK;EADT,EAXF,CADF;AAyBD,CA1CD;;eA4Ce/B,W;;;AAEf,MAAMqB,MAAM,GAAGW,uBAAA,CAAWC,MAAX,CAAkB;EAC/BX,SAAS,EAAE;IACTL,QAAQ,EAAE,UADD;IAETiB,IAAI,EAAE,CAFG;IAGTC,KAAK,EAAE,CAHE;IAITC,MAAM,EAAE,CAJC;IAKTC,cAAc,EAAE,QALP;IAMTC,MAAM,EAAE;EANC,CADoB;EAS/Bf,UAAU,EAAE;IACVN,QAAQ,EAAE,UADA;IAEVa,KAAK,EAAE,MAFG;IAGVN,MAAM,EAAE,CAHE;IAIVE,YAAY,EAAE;EAJJ,CATmB;EAe/BG,KAAK,EAAE;IACLL,MAAM,EAAE,CADH;IAELE,YAAY,EAAE;EAFT;AAfwB,CAAlB,CAAf"}