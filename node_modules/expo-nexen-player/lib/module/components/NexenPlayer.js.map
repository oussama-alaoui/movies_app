{"version":3,"names":["React","Animated","BackHandler","I18nManager","StyleSheet","View","IconLock","IconPaly","IconPause","IconRepeat","IconUnlock","IconZap","getAspectRatioTipText","getKeyByValue","getTimeTipText","FooterControl","GestureView","GestureEventType","MAX_BRIGHTNESS","MAX_VOLUME","TapEventType","TipView","MoreControl","DefaultTheme","DefaultSizesTheme","DefaultMiniSeekBarTheme","DefaultTagViewTheme","HeaderControl","LineSeekBar","SpeedControl","PlayButton","Loader","getAlphaColor","getBrightnessIcon","getVolumeIcon","PlaylistControl","Video","Brightness","PosterView","ANIMATION_DURATION","USE_NATIVE_DRIVER","FORWARD_OR_REWIND_DURATION","RESIZE_MODES","RESIZE_MODE_VALUES","NexenPlayer","forwardRef","props","ref","source","playerSource","config","playerConfig","playList","playerPlayList","style","insets","theme","onBackPress","onFullScreenModeUpdate","onPlay","onPause","onStop","onSkipNext","onSkipBack","onVolumeUpdate","onBrightnessUpdate","onMuteUpdate","onRepeatUpdate","onSpeedUpdate","onPlayListItemSelect","onScreenLockUpdate","onReload","onLoad","onError","nexenSource","setNexenSource","useState","nexenConfig","setNexenConfig","loaderText","errorText","doubleTapTime","controlTimeout","controlHideMode","layoutMode","posterResizeMode","resizeMode","volume","brightness","playbackSpeed","muted","repeat","autoPlay","disableOnScreenPlayButton","disableBack","disableResizeMode","disableReload","disableMore","disableSkip","disableStop","disableVolume","disableFullscreen","disablePlayList","trackInfo","setTrackInfo","trackTime","totalTrackTime","cachedTrackTime","setPlayList","dimension","setDimension","width","height","showControl","setShowControl","showSpeedControl","setShowSpeedControl","showPlaylistControl","setShowPlaylistControl","showMoreControl","setShowMoreControl","loading","setLoading","error","setError","locked","setLocked","fullScreen","setFullScreen","paused","setPaused","disablePlaylistAndSkip","setDisablePlaylistAndSkip","durationTime","useRef","cachedTime","currentTime","isSeeking","isSliding","isSeekable","gestureEnabled","isStopped","isVolumeSeekable","isFullscreen","posterDisabled","showPoster","moreControlRef","speedControlRef","playlistControlRef","videoRef","tipViewRef","headerControlRef","footerControlRef","headerOpacity","Value","current","headerTopMargin","footerOpacity","footerBottomMargin","controlTimeoutRef","useImperativeHandle","play","pause","stop","handleStopPlayback","skipNext","_onSkipNext","skipBack","_onSkipBack","reload","callback","handleReloadVideo","index","currentIndex","load","handleLoadVideo","setFullScreenMode","optimize","nexenTheme","useMemo","trackSeekBar","speedSeekBar","lineSeekBar","miniSeekBar","volumeSeekBar","brightnessSeekBar","lockButton","tagView","colors","sizes","fonts","ICON_SIZE_FACTOR","TAG_VIEW_ICON_SIZE","iconSize","TAG_VIEW_ACTIVE_ICON_COLOR","activeIconColor","accentColor","TAG_VIEW_INACTIVE_ICON_COLOR","inactiveIconColor","primaryColor","TIP_VIEW_ICON_SIZE","tipView","TIP_VIEW_TEXT_SIZE","textSize","TIP_VIEW_ICON_COLOR","iconColor","secondaryIconColor","TIP_VIEW_TEXT_COLOR","textColor","secondaryTextColor","CONTAINER_BORDER_RADIUS","modalCornerRadius","CONTAINER_BACKGROUND_COLOR","modalBackgroundColor","minValue","Math","min","Number","MORE_CONTROL_CONTAINER_WIDTH","right","SPEED_CONTROL_CONTAINER_HEIGHT","bottom","PLAYLIST_CONTROL_CONTAINER_HEIGHT","LINE_SEEK_BAR_HEIGHT","rtlMultiplier","isRTL","tipViewTheme","font","secondaryFont","loaderTheme","lineSeekBarTheme","lineHeight","lineColor","lineUnderlayColor","secondaryColor","_onLayoutChange","e","nativeEvent","layout","w","h","_onTapDetected","useCallback","event","value","SINGLE_TAP","hideMoreOptions","hidePlaybackSpeedControl","hideVideoListControl","hideMainControl","showMainControl","DOUBLE_TAP_LEFT","DOUBLE_TAP_RIGHT","setStatusAsync","positionMillis","prevState","DOUBLE_TAP_MIDDLE","handleDoubleTapPlayPause","_onGestureMove","VOLUME","updateIconTagView","volumeIcon","BRIGHTNESS","brightnessIcon","setBrightnessAsync","_onGestureEnd","TRACK","startControlHideAnimation","setControlTimeout","setTimeout","clearControlTimeout","clearTimeout","resetControlTimeout","showMoreOptions","hide","showPlaybackSpeedControl","showVideoListControl","startControlShowAnimation","parallel","timing","toValue","duration","useNativeDriver","start","useEffect","repeatIcon","speedIcon","show","indexOf","updateState","showTip","tipText","autoHide","newConfig","activeIndex","newSource","poster","items","length","backHandler","addEventListener","_onBackPress","remove","_onAspectRatioPress","handleResizeMode","_onMorePress","_onMoreItemPress","item","id","handleLockScreen","handleRepeatVideo","_onSpeedUpdate","newSpeed","withIcon","icon","_onPlayButtonPress","_onStopPress","_onReloadPress","handleUnloadVideo","loadAsync","itemSource","then","unloadAsync","handleLoadPlayListVideo","_onRewind","time","_onFastForward","_onPlaylistItemPress","_onTogglePlayPause","_onToggleFullScreen","_onToggleVolume","handleMuteVideo","mute","_onSlideStart","_onSlideEnd","_onReachedToStart","_onReachedToEnd","_onSeekStart","totalValue","_onSeekUpdate","_onSeekEnd","_onVolumeSeekStart","_onVolumeSeekUpdate","_onVolumeSeekEnd","_onLoadStart","_onLoad","status","console","log","JSON","stringify","isLoaded","durationMillis","_onPlaybackStatusUpdate","playableDurationMillis","isLooping","didJustFinish","_onError","newStyle","position","top","left","zIndex","styles","playerContainer","player","title","backgroundColor","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderRadius","defaultProps","create","overflow","justifyContent","alignItems"],"sources":["NexenPlayer.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  BackHandler,\n  I18nManager,\n  LayoutChangeEvent,\n  StyleProp,\n  StyleSheet,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport {\n  IconLock,\n  IconPaly,\n  IconPause,\n  IconRepeat,\n  IconUnlock,\n  IconZap,\n} from '../assets/icons';\nimport {\n  getAspectRatioTipText,\n  getKeyByValue,\n  getTimeTipText,\n} from '../utils/StringUtil';\nimport FooterControl, { FooterControlRef } from './FooterControl';\nimport GestureView, {\n  GestureEventType,\n  MAX_BRIGHTNESS,\n  MAX_VOLUME,\n  TapEventType,\n} from './GestureView';\nimport TipView, { TipViewRef, TipViewTheme } from './TipView';\nimport MoreControl, { MoreItem } from './MoreControl';\nimport {\n  NexenTheme,\n  DefaultTheme,\n  DefaultSizesTheme,\n  DefaultMiniSeekBarTheme,\n  DefaultTagViewTheme,\n} from '../utils/Theme';\nimport HeaderControl, { HeaderControlRef } from './HeaderControl';\nimport LineSeekBar, { LineSeekBarTheme } from './LineSeekBar';\nimport SpeedControl from './SpeedControl';\nimport PlayButton from './PlayButton';\nimport Loader from './Loader';\nimport { getAlphaColor } from '../utils/ColorUtil';\nimport { getBrightnessIcon, getVolumeIcon } from '../utils/ComponentUtil';\nimport PlaylistControl from './PlaylistControl';\nimport { AVPlaybackSource, AVPlaybackStatus, Video } from 'expo-av';\nimport * as Brightness from 'expo-brightness';\nimport { WrapperComponentRef } from '../hoc/withAnimation';\nimport PosterView from './PosterView';\n\nconst ANIMATION_DURATION = 300;\nconst USE_NATIVE_DRIVER = false;\nconst FORWARD_OR_REWIND_DURATION = 10;\n\nexport type EdgeInsets = {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n};\n\nexport type LayoutMode = 'basic' | 'intermediate' | 'advanced';\nexport type ControlHideMode = 'auto' | 'touch';\nexport type Dimension = { width: number; height: number };\nexport type ResizeMode = 'stretch' | 'contain' | 'cover' | undefined;\nexport type PlaybackSpeed =\n  | '0.25'\n  | '0.5'\n  | '0.75'\n  | '1.0'\n  | '1.5'\n  | '2.0'\n  | '3.0';\n\nexport type PlayList = {\n  items?: PlayListItem[];\n  currentIndex?: number;\n};\n\nexport type PlayListItem = {\n  itemSource: NexenSource;\n};\n\nconst RESIZE_MODES = ['BEST_FIT', 'FIT_TO_SCREEN', 'FILL_TO_SCREEN'];\nconst RESIZE_MODE_VALUES: ResizeMode[] = ['contain', 'cover', 'stretch'];\n\nexport type NexenPlayerRef = {\n  play: () => void;\n  pause: () => void;\n  stop: () => void;\n  skipNext: () => void;\n  skipBack: () => void;\n  reload: (callback?: () => void) => void;\n  load: (index: number, callback?: () => void) => void;\n  setFullScreenMode: (fullScreen: boolean) => void;\n};\n\nexport type NexenSource = {\n  source: AVPlaybackSource;\n  title?: string;\n  poster?: string | undefined;\n};\n\nexport type NexenConfig = {\n  loaderText?: string;\n  errorText?: string;\n  doubleTapTime?: number;\n  controlTimeout?: number;\n  controlHideMode?: ControlHideMode;\n  layoutMode?: LayoutMode;\n  posterResizeMode?: ResizeMode;\n  resizeMode?: ResizeMode;\n  volume?: number;\n  brightness?: number;\n  playbackSpeed?: PlaybackSpeed;\n  muted?: boolean;\n  repeat?: boolean;\n  autoPlay?: boolean;\n  index?: number;\n  activeIndex?: number;\n  optimize?: boolean;\n\n  disableOnScreenPlayButton?: boolean;\n  disableBack?: boolean;\n  disableResizeMode?: boolean;\n  disableReload?: boolean;\n  disableVolume?: boolean;\n  disableMore?: boolean;\n  disableSkip?: boolean;\n  disableStop?: boolean;\n  disableFullscreen?: boolean;\n  disablePlayList?: boolean;\n};\n\nexport type NexenPlayerProps = {\n  source: NexenSource;\n  config?: NexenConfig;\n  playList?: PlayList;\n  style?: StyleProp<ViewStyle>;\n  theme?: NexenTheme;\n  insets?: EdgeInsets;\n  onBackPress?: () => void;\n  onFullScreenModeUpdate?: (fullScreen: boolean, index?: number) => void;\n  onPlay?: (index?: number) => void;\n  onPause?: (index?: number) => void;\n  onStop?: (index?: number) => void;\n  onSkipNext?: (index: number) => void;\n  onSkipBack?: (index: number) => void;\n  onVolumeUpdate?: (volume: number) => void;\n  onBrightnessUpdate?: (brightness: number) => void;\n  onMuteUpdate?: (muted: boolean) => void;\n  onRepeatUpdate?: (repeat: boolean) => void;\n  onSpeedUpdate?: (speed: PlaybackSpeed) => void;\n  onPlayListItemSelect?: (index: number) => void;\n  onScreenLockUpdate?: (locked: boolean) => void;\n  onReload?: (index?: number) => void;\n  onLoad?: (index?: number) => void;\n  onError?: (error: string) => void;\n};\n\nconst NexenPlayer = React.forwardRef<NexenPlayerRef, NexenPlayerProps>(\n  (props, ref) => {\n    let {\n      source: playerSource,\n      config: playerConfig,\n      playList: playerPlayList,\n      style,\n      insets,\n      theme,\n      onBackPress,\n      onFullScreenModeUpdate,\n      onPlay,\n      onPause,\n      onStop,\n      onSkipNext,\n      onSkipBack,\n      onVolumeUpdate,\n      onBrightnessUpdate,\n      onMuteUpdate,\n      onRepeatUpdate,\n      onSpeedUpdate,\n      onPlayListItemSelect,\n      onScreenLockUpdate,\n      onReload,\n      onLoad,\n      onError,\n    } = props;\n\n    const [nexenSource, setNexenSource] =\n      React.useState<NexenSource>(playerSource);\n\n    const [nexenConfig, setNexenConfig] = React.useState<\n      NexenConfig | undefined\n    >({\n      loaderText: 'Loading...',\n      errorText: 'Error...!',\n      doubleTapTime: 300,\n      controlTimeout: 5000,\n      controlHideMode: 'touch',\n      layoutMode: 'intermediate',\n      posterResizeMode: 'cover',\n      resizeMode: 'contain',\n\n      volume: 80,\n      brightness: 25,\n      playbackSpeed: '1.0',\n      muted: false,\n      repeat: false,\n      autoPlay: false,\n\n      disableOnScreenPlayButton: false,\n      disableBack: false,\n      disableResizeMode: false,\n      disableReload: false,\n      disableMore: false,\n      disableSkip: false,\n      disableStop: false,\n      disableVolume: false,\n      disableFullscreen: false,\n      disablePlayList: false,\n      ...playerConfig,\n    });\n\n    const [trackInfo, setTrackInfo] = React.useState({\n      trackTime: 0,\n      totalTrackTime: 0,\n      cachedTrackTime: 0,\n    });\n\n    const [playList, setPlayList] = React.useState<PlayList | undefined>(\n      playerPlayList\n    );\n\n    const [dimension, setDimension] = React.useState({ width: 0, height: 0 });\n    const [showControl, setShowControl] = React.useState(false);\n    const [showSpeedControl, setShowSpeedControl] = React.useState(false);\n    const [showPlaylistControl, setShowPlaylistControl] = React.useState(false);\n    const [showMoreControl, setShowMoreControl] = React.useState(false);\n\n    const [loading, setLoading] = React.useState(false);\n    const [error, setError] = React.useState(false);\n    const [locked, setLocked] = React.useState(false);\n    const [fullScreen, setFullScreen] = React.useState(false);\n    const [paused, setPaused] = React.useState(!nexenConfig?.autoPlay);\n    const [disablePlaylistAndSkip, setDisablePlaylistAndSkip] =\n      React.useState(false);\n\n    const durationTime = React.useRef(0);\n    const cachedTime = React.useRef(0);\n    const currentTime = React.useRef(0);\n\n    const isSeeking = React.useRef(false);\n    const isSliding = React.useRef(false);\n    const isSeekable = React.useRef(false);\n    const gestureEnabled = React.useRef(false);\n    const isStopped = React.useRef(false);\n    const isVolumeSeekable = React.useRef(true);\n    const isFullscreen = React.useRef(fullScreen);\n    const posterDisabled = React.useRef(false);\n    const showPoster = React.useRef(true);\n\n    const moreControlRef = React.useRef<WrapperComponentRef>(null);\n    const speedControlRef = React.useRef<WrapperComponentRef>(null);\n    const playlistControlRef = React.useRef<WrapperComponentRef>(null);\n\n    const videoRef = React.useRef<Video>(null);\n    const tipViewRef = React.useRef<TipViewRef>(null);\n    const headerControlRef = React.useRef<HeaderControlRef>(null);\n    const footerControlRef = React.useRef<FooterControlRef>(null);\n\n    const headerOpacity = React.useRef(new Animated.Value(0)).current;\n    const headerTopMargin = React.useRef(new Animated.Value(-60)).current;\n    const footerOpacity = React.useRef(new Animated.Value(0)).current;\n    const footerBottomMargin = React.useRef(new Animated.Value(-60)).current;\n\n    const controlTimeoutRef = React.useRef<NodeJS.Timeout | null>(null);\n\n    React.useImperativeHandle(ref, () => ({\n      play: () => {\n        setPaused(false);\n      },\n      pause: () => {\n        setPaused(true);\n      },\n      stop: () => {\n        handleStopPlayback();\n      },\n      skipNext: () => {\n        _onSkipNext();\n      },\n      skipBack: () => {\n        _onSkipBack();\n      },\n      reload: (callback?: () => void) => {\n        handleReloadVideo(() => {\n          callback?.();\n          onReload?.(nexenConfig ? nexenConfig.index : playList?.currentIndex);\n        });\n      },\n      load: (index: number, callback?: () => void) => {\n        handleLoadVideo(index, () => {\n          callback?.();\n        });\n      },\n      setFullScreenMode: (fullScreen: boolean) => {\n        setFullScreen(fullScreen);\n        onFullScreenModeUpdate?.(\n          fullScreen,\n          nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n        );\n      },\n    }));\n\n    const nexenTheme = React.useMemo((): NexenTheme => {\n      return {\n        ...DefaultTheme,\n        trackSeekBar: {\n          ...DefaultTheme.trackSeekBar,\n          ...theme?.trackSeekBar,\n        },\n        speedSeekBar: {\n          ...DefaultTheme.speedSeekBar,\n          ...theme?.speedSeekBar,\n        },\n        lineSeekBar: {\n          ...DefaultTheme.lineSeekBar,\n          ...theme?.lineSeekBar,\n        },\n        miniSeekBar: {\n          ...DefaultMiniSeekBarTheme,\n          ...theme?.miniSeekBar,\n        },\n        volumeSeekBar: {\n          ...DefaultTheme.volumeSeekBar,\n          ...theme?.volumeSeekBar,\n        },\n        brightnessSeekBar: {\n          ...DefaultTheme.brightnessSeekBar,\n          ...theme?.brightnessSeekBar,\n        },\n        lockButton: {\n          ...DefaultTheme.lockButton,\n          ...theme?.lockButton,\n        },\n        tagView: {\n          ...DefaultTagViewTheme,\n          ...theme?.tagView,\n        },\n        colors: {\n          ...DefaultTheme.colors,\n          ...theme?.colors,\n        },\n        sizes: {\n          ...DefaultSizesTheme,\n          ...theme?.sizes,\n        },\n        fonts: {\n          ...theme?.fonts,\n        },\n      };\n    }, [theme]);\n\n    const ICON_SIZE_FACTOR = 0.8;\n    const TAG_VIEW_ICON_SIZE = nexenTheme?.tagView?.iconSize!;\n    const TAG_VIEW_ACTIVE_ICON_COLOR =\n      nexenTheme?.tagView?.activeIconColor ||\n      getAlphaColor(nexenTheme?.colors?.accentColor!, 0.7);\n    const TAG_VIEW_INACTIVE_ICON_COLOR =\n      nexenTheme?.tagView?.inactiveIconColor ||\n      getAlphaColor(nexenTheme?.colors?.primaryColor!, 0.5);\n\n    const TIP_VIEW_ICON_SIZE = nexenTheme?.tipView?.iconSize;\n    const TIP_VIEW_TEXT_SIZE = nexenTheme?.tipView?.textSize;\n    const TIP_VIEW_ICON_COLOR =\n      nexenTheme.tipView?.iconColor || nexenTheme.colors?.secondaryIconColor;\n    const TIP_VIEW_TEXT_COLOR =\n      nexenTheme?.tipView?.textColor || nexenTheme?.colors?.secondaryTextColor;\n\n    const CONTAINER_BORDER_RADIUS = nexenTheme?.sizes?.modalCornerRadius;\n    const CONTAINER_BACKGROUND_COLOR =\n      nexenTheme?.colors?.modalBackgroundColor ||\n      getAlphaColor(nexenTheme?.colors?.primaryColor!, 0.7);\n\n    const minValue = Math.min(\n      Number(dimension.width),\n      Number(dimension.height)\n    );\n    const MORE_CONTROL_CONTAINER_WIDTH = fullScreen\n      ? minValue * 0.55 + insets?.right!\n      : minValue * 0.7;\n    const SPEED_CONTROL_CONTAINER_HEIGHT = fullScreen\n      ? minValue * 0.2 + insets?.bottom!\n      : minValue * 0.3;\n    const PLAYLIST_CONTROL_CONTAINER_HEIGHT = fullScreen\n      ? minValue * 0.3 + insets?.bottom!\n      : minValue * 0.35;\n\n    const LINE_SEEK_BAR_HEIGHT = 2;\n\n    const rtlMultiplier = React.useRef(1);\n    const isRTL = I18nManager.isRTL;\n    rtlMultiplier.current = isRTL ? -1 : 1;\n\n    const tipViewTheme = React.useMemo((): TipViewTheme => {\n      return {\n        textColor: TIP_VIEW_TEXT_COLOR,\n        textSize: TIP_VIEW_TEXT_SIZE,\n        font: nexenTheme?.fonts?.secondaryFont,\n      };\n    }, [nexenTheme]);\n\n    const loaderTheme = React.useMemo((): TipViewTheme => {\n      return {\n        iconSize: 40,\n        iconColor: TIP_VIEW_ICON_COLOR,\n        textColor: TIP_VIEW_TEXT_COLOR,\n        textSize: 16,\n        font: nexenTheme?.fonts?.secondaryFont,\n      };\n    }, [nexenTheme]);\n\n    const lineSeekBarTheme = React.useMemo((): LineSeekBarTheme => {\n      return {\n        lineHeight: LINE_SEEK_BAR_HEIGHT,\n        lineColor:\n          nexenTheme?.lineSeekBar?.lineColor || nexenTheme?.colors?.accentColor,\n        lineUnderlayColor:\n          nexenTheme?.lineSeekBar?.lineUnderlayColor ||\n          getAlphaColor(nexenTheme?.colors?.secondaryColor!, 0.3),\n      };\n    }, [nexenTheme]);\n\n    const _onLayoutChange = async (e: LayoutChangeEvent) => {\n      const { width, height } = e.nativeEvent.layout;\n      const { width: w, height: h } = dimension;\n      if (w !== width || h !== height) {\n        setDimension({ width, height });\n        // console.log(`onLayoutChange:: width: ${width} height: ${height}`);\n      }\n    };\n\n    const _onTapDetected = React.useCallback(\n      async (event: TapEventType, value?: number) => {\n        switch (event) {\n          case TapEventType.SINGLE_TAP:\n            if (showMoreControl) {\n              hideMoreOptions();\n              gestureEnabled.current = true;\n              break;\n            }\n            if (showSpeedControl) {\n              hidePlaybackSpeedControl();\n              gestureEnabled.current = true;\n              break;\n            }\n            if (showPlaylistControl) {\n              hideVideoListControl();\n              gestureEnabled.current = true;\n              break;\n            }\n            if (showControl) {\n              hideMainControl();\n            } else {\n              showMainControl();\n            }\n            break;\n          case TapEventType.DOUBLE_TAP_LEFT:\n          case TapEventType.DOUBLE_TAP_RIGHT:\n            if (value) {\n              await videoRef.current?.setStatusAsync({\n                positionMillis: value * 1000,\n              });\n              setTrackInfo((prevState) => {\n                return {\n                  ...prevState,\n                  trackTime: value,\n                };\n              });\n            }\n            break;\n          case TapEventType.DOUBLE_TAP_MIDDLE:\n            handleDoubleTapPlayPause();\n            break;\n        }\n      },\n      [\n        showControl,\n        showMoreControl,\n        showSpeedControl,\n        showPlaylistControl,\n        paused,\n      ]\n    );\n\n    const _onGestureMove = React.useCallback(\n      (event: GestureEventType, value: number) => {\n        switch (event) {\n          case GestureEventType.VOLUME:\n            headerControlRef.current?.updateIconTagView({\n              volumeIcon: getVolumeIcon(\n                value,\n                MAX_VOLUME,\n                TAG_VIEW_ICON_SIZE,\n                TIP_VIEW_ICON_COLOR\n              ),\n            });\n            videoRef.current?.setStatusAsync({ volume: value / 100 });\n            onVolumeUpdate?.(value);\n            break;\n          case GestureEventType.BRIGHTNESS:\n            headerControlRef.current?.updateIconTagView({\n              brightnessIcon: getBrightnessIcon(\n                value,\n                MAX_BRIGHTNESS,\n                TAG_VIEW_ICON_SIZE,\n                TIP_VIEW_ICON_COLOR\n              ),\n            });\n            Brightness.setBrightnessAsync(value / 100);\n            onBrightnessUpdate?.(value);\n            break;\n        }\n      },\n      []\n    );\n\n    const _onGestureEnd = React.useCallback(\n      async (event: GestureEventType, value: number) => {\n        switch (event) {\n          case GestureEventType.TRACK:\n            videoRef.current?.setStatusAsync({ positionMillis: value * 1000 });\n            setTrackInfo((prevState) => {\n              return {\n                ...prevState,\n                trackTime: value,\n              };\n            });\n            break;\n          case GestureEventType.VOLUME:\n            headerControlRef.current?.updateIconTagView({\n              volumeIcon: getVolumeIcon(\n                value,\n                MAX_VOLUME,\n                TAG_VIEW_ICON_SIZE,\n                TIP_VIEW_ICON_COLOR\n              ),\n            });\n            videoRef.current?.setStatusAsync({ volume: value / 100 });\n            setNexenConfig((prevState) => {\n              return {\n                ...prevState,\n                volume: value,\n              };\n            });\n            onVolumeUpdate?.(value);\n            break;\n          case GestureEventType.BRIGHTNESS:\n            headerControlRef.current?.updateIconTagView({\n              brightnessIcon: getBrightnessIcon(\n                value,\n                MAX_BRIGHTNESS,\n                TAG_VIEW_ICON_SIZE,\n                TIP_VIEW_ICON_COLOR\n              ),\n            });\n            Brightness.setBrightnessAsync(value / 100);\n            setNexenConfig((prevState) => {\n              return {\n                ...prevState,\n                brightness: value,\n              };\n            });\n            onBrightnessUpdate?.(value);\n            break;\n        }\n      },\n      []\n    );\n\n    const showMainControl = () => {\n      setShowControl(true);\n    };\n\n    const hideMainControl = () => {\n      startControlHideAnimation(() => {\n        setShowControl(false);\n      });\n    };\n\n    const setControlTimeout = () => {\n      controlTimeoutRef.current = setTimeout(() => {\n        hideMainControl();\n      }, nexenConfig?.controlTimeout);\n    };\n\n    const clearControlTimeout = () => {\n      if (controlTimeoutRef.current) {\n        clearTimeout(controlTimeoutRef.current);\n      }\n    };\n\n    const resetControlTimeout = () => {\n      clearControlTimeout();\n      setControlTimeout();\n    };\n\n    const showMoreOptions = () => {\n      setShowMoreControl(true);\n    };\n\n    const hideMoreOptions = () => {\n      moreControlRef.current?.hide(() => {\n        setShowMoreControl(false);\n      });\n    };\n\n    const showPlaybackSpeedControl = () => {\n      setShowSpeedControl(true);\n    };\n\n    const hidePlaybackSpeedControl = () => {\n      speedControlRef.current?.hide(() => {\n        setShowSpeedControl(false);\n      });\n    };\n\n    const showVideoListControl = () => {\n      setShowPlaylistControl(true);\n    };\n\n    const hideVideoListControl = () => {\n      playlistControlRef.current?.hide(() => {\n        setShowPlaylistControl(false);\n      });\n    };\n\n    const startControlShowAnimation = (\n      callback?: Animated.EndCallback | undefined\n    ) => {\n      Animated.parallel([\n        Animated.timing(headerOpacity, {\n          toValue: 1,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(headerTopMargin, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(footerOpacity, {\n          toValue: 1,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(footerBottomMargin, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n      ]).start(callback);\n    };\n\n    const startControlHideAnimation = (\n      callback?: Animated.EndCallback | undefined\n    ) => {\n      Animated.parallel([\n        Animated.timing(headerOpacity, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(headerTopMargin, {\n          toValue: -60,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(footerOpacity, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(footerBottomMargin, {\n          toValue: -60,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n      ]).start(callback);\n    };\n\n    React.useEffect(() => {\n      if (paused) {\n        onPause?.(\n          nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n        );\n      } else {\n        onPlay?.(\n          nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n        );\n      }\n    }, [paused]);\n\n    React.useEffect(() => {\n      isFullscreen.current = fullScreen;\n\n      if (showControl) {\n        startControlShowAnimation();\n        if (nexenConfig?.controlHideMode == 'auto') {\n          setControlTimeout();\n        }\n      } else {\n        if (nexenConfig?.controlHideMode == 'auto') {\n          clearControlTimeout();\n        }\n      }\n\n      if (nexenConfig?.layoutMode === 'advanced') {\n        headerControlRef.current?.updateIconTagView({\n          volumeIcon: getVolumeIcon(\n            nexenConfig?.volume!,\n            MAX_VOLUME,\n            TAG_VIEW_ICON_SIZE,\n            TIP_VIEW_ICON_COLOR\n          ),\n          brightnessIcon: getBrightnessIcon(\n            nexenConfig?.brightness!,\n            MAX_BRIGHTNESS,\n            TAG_VIEW_ICON_SIZE,\n            TIP_VIEW_ICON_COLOR\n          ),\n          repeatIcon: nexenConfig?.repeat ? (\n            <IconRepeat\n              size={TAG_VIEW_ICON_SIZE}\n              color={TAG_VIEW_ACTIVE_ICON_COLOR}\n            />\n          ) : (\n            <IconRepeat\n              size={TAG_VIEW_ICON_SIZE}\n              color={TAG_VIEW_INACTIVE_ICON_COLOR}\n            />\n          ),\n          speedIcon:\n            nexenConfig?.playbackSpeed !== '1.0' ? (\n              <IconZap\n                size={TAG_VIEW_ICON_SIZE}\n                color={TAG_VIEW_ACTIVE_ICON_COLOR}\n              />\n            ) : (\n              <IconZap\n                size={TAG_VIEW_ICON_SIZE}\n                color={TAG_VIEW_INACTIVE_ICON_COLOR}\n              />\n            ),\n        });\n      }\n    }, [showControl, fullScreen, locked, nexenConfig]);\n\n    React.useEffect(() => {\n      if (showMoreControl) {\n        moreControlRef.current?.show();\n        return;\n      }\n\n      if (showSpeedControl) {\n        speedControlRef.current?.show();\n        return;\n      }\n\n      if (showPlaylistControl) {\n        playlistControlRef.current?.show();\n        return;\n      }\n    }, [showMoreControl, showSpeedControl, showPlaylistControl]);\n\n    React.useEffect(() => {\n      currentTime.current = trackInfo.trackTime;\n      cachedTime.current = trackInfo.cachedTrackTime;\n      durationTime.current = trackInfo.totalTrackTime;\n    }, [trackInfo]);\n\n    React.useEffect(() => {\n      const currentIndex = RESIZE_MODE_VALUES.indexOf(nexenConfig?.resizeMode);\n      if (isSeekable.current) {\n        tipViewRef.current?.updateState({\n          showTip: true,\n          tipText: getAspectRatioTipText(RESIZE_MODES[currentIndex]),\n          autoHide: true,\n        });\n      }\n    }, [nexenConfig?.resizeMode]);\n\n    // React.useEffect(() => {\n    //   if (playerSource.poster) {\n    //     setShowPoster(true);\n    //   } else {\n    //     setShowPoster(false);\n    //   }\n    // }, [playerSource.poster]);\n\n    React.useEffect(() => {\n      const newConfig = {\n        ...nexenConfig,\n        ...playerConfig,\n      };\n      Brightness.setBrightnessAsync(newConfig.brightness! / 100);\n      setNexenConfig(newConfig);\n      if (newConfig?.optimize) {\n        if (newConfig?.index != newConfig?.activeIndex) {\n          showPoster.current = true;\n          setPaused(true);\n          hideMainControl();\n        } else {\n          setPlayList((prevState) => {\n            return {\n              ...prevState,\n              currentIndex: newConfig?.activeIndex!,\n            };\n          });\n        }\n      }\n    }, [playerConfig]);\n\n    React.useEffect(() => {\n      const newSource = {\n        ...nexenSource,\n        ...playerSource,\n      };\n      if (newSource.poster) {\n        showPoster.current = true;\n      } else {\n        showPoster.current = false;\n      }\n      setNexenSource(newSource);\n    }, [playerSource]);\n\n    React.useEffect(() => {\n      if (\n        !playerPlayList ||\n        !playerPlayList.items ||\n        playerPlayList.items.length === 0\n      ) {\n        setDisablePlaylistAndSkip(true);\n      } else {\n        setDisablePlaylistAndSkip(false);\n      }\n\n      setPlayList(playerPlayList);\n      // setPlayList((prevState) => {\n      //   return {\n      //     ...prevState,\n      //     ...playerPlayList,\n      //   };\n      // });\n    }, [playerPlayList]);\n\n    // React.useEffect(() => {\n    //   if (optimizationConfig?.optimize) {\n    //     if (optimizationConfig?.index != optimizationConfig?.activeIndex) {\n    //       setShowPoster(true);\n    //       setPaused(true);\n    //       hideMainControl();\n    //     } else {\n    //       // setPlaylistIndex(optimizationConfig?.activeIndex!);\n    //       playlistIndex.current = optimizationConfig?.activeIndex!;\n    //     }\n    //   }\n    // }, [optimizationConfig]);\n\n    React.useEffect(() => {\n      const backHandler = BackHandler.addEventListener(\n        'hardwareBackPress',\n        _onBackPress\n      );\n      return () => {\n        if (backHandler) {\n          backHandler.remove();\n        }\n        if (controlTimeoutRef.current) {\n          clearTimeout(controlTimeoutRef.current);\n        }\n      };\n    }, []);\n\n    const _onBackPress = React.useCallback(() => {\n      if (isFullscreen.current) {\n        setFullScreen(false);\n        onFullScreenModeUpdate?.(\n          false,\n          nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n        );\n      } else {\n        onBackPress?.();\n      }\n      return true;\n    }, []);\n\n    const _onAspectRatioPress = React.useCallback(() => {\n      handleResizeMode(nexenConfig?.resizeMode);\n    }, [nexenConfig?.resizeMode]);\n\n    const _onMorePress = React.useCallback(() => {\n      showMoreOptions();\n      hideMainControl();\n      gestureEnabled.current = false;\n    }, []);\n\n    const _onMoreItemPress = React.useCallback(\n      (item: MoreItem) => {\n        switch (item.id) {\n          case 'lock':\n            hideMoreOptions();\n            handleLockScreen();\n            isSeekable.current = false;\n            gestureEnabled.current = false;\n            break;\n          case 'speed':\n            hideMoreOptions();\n            showPlaybackSpeedControl();\n            gestureEnabled.current = false;\n            break;\n          case 'repeat':\n            hideMoreOptions();\n            handleRepeatVideo(!nexenConfig?.repeat);\n            gestureEnabled.current = true;\n            break;\n          case 'reload':\n            hideMoreOptions();\n            handleReloadVideo();\n            gestureEnabled.current = true;\n            break;\n          case 'playlist':\n            hideMoreOptions();\n            showVideoListControl();\n            gestureEnabled.current = false;\n            break;\n        }\n      },\n      [paused, nexenConfig]\n    );\n\n    const _onSpeedUpdate = React.useCallback((value: string) => {\n      // const newSpeed = Number(value);\n      const newSpeed = value as PlaybackSpeed;\n      tipViewRef.current?.updateState({\n        showTip: true,\n        tipText: `${newSpeed}x Speed`,\n        autoHide: true,\n        withIcon: true,\n        icon: <IconZap size={TIP_VIEW_ICON_SIZE} color={TIP_VIEW_ICON_COLOR} />,\n      });\n      setNexenConfig((prevState) => {\n        return {\n          ...prevState,\n          playbackSpeed: newSpeed,\n        };\n      });\n      onSpeedUpdate?.(newSpeed);\n    }, []);\n\n    const handleDoubleTapPlayPause = () => {\n      if (paused) {\n        setPaused(false);\n        tipViewRef.current?.updateState({\n          showTip: true,\n          tipText: 'Playing',\n          autoHide: true,\n          withIcon: true,\n          icon: (\n            <IconPaly size={TIP_VIEW_ICON_SIZE} color={TIP_VIEW_ICON_COLOR} />\n          ),\n        });\n      } else {\n        setPaused(true);\n        tipViewRef.current?.updateState({\n          showTip: true,\n          tipText: 'Paused',\n          autoHide: true,\n          withIcon: true,\n          icon: (\n            <IconPause size={TIP_VIEW_ICON_SIZE} color={TIP_VIEW_ICON_COLOR} />\n          ),\n        });\n      }\n    };\n\n    /* FooterControl Callback */\n    const _onPlayButtonPress = () => {\n      setPaused(false);\n    };\n\n    const _onStopPress = () => {\n      handleStopPlayback();\n    };\n\n    const _onReloadPress = () => {\n      handleReloadVideo();\n    };\n\n    const handleStopPlayback = () => {\n      isStopped.current = true;\n      videoRef.current?.setStatusAsync({ positionMillis: 0 });\n      setPaused(true);\n      onStop?.(\n        nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n      );\n    };\n\n    const handleRepeatVideo = (repeat: boolean) => {\n      tipViewRef.current?.updateState({\n        showTip: true,\n        tipText: repeat ? 'Repeat On' : 'Repeat Off',\n        autoHide: true,\n        withIcon: true,\n        icon: (\n          <IconRepeat size={TIP_VIEW_ICON_SIZE} color={TIP_VIEW_ICON_COLOR} />\n        ),\n      });\n      setNexenConfig((prevState) => {\n        return {\n          ...prevState,\n          repeat: repeat,\n        };\n      });\n      onRepeatUpdate?.(repeat);\n      // setLoop((prevState) => !prevState);\n    };\n\n    const handleReloadVideo = (callback?: () => void) => {\n      handleUnloadVideo(() => {\n        videoRef.current\n          ?.loadAsync(\n            playList?.items\n              ? playList?.items.length !== 0\n                ? playList?.items[playList?.currentIndex!].itemSource\n                : nexenSource.source\n              : nexenSource.source\n          )\n          .then(() => {\n            callback?.();\n          });\n      });\n    };\n\n    const handleUnloadVideo = (callback?: () => void) => {\n      videoRef.current?.unloadAsync().then(() => {\n        setTrackInfo({\n          trackTime: 0,\n          totalTrackTime: 0,\n          cachedTrackTime: 0,\n        });\n        callback?.();\n      });\n    };\n\n    const handleLoadVideo = (index: number, callback?: () => void) => {\n      handleUnloadVideo(() => {\n        setPlayList((prevState) => {\n          return {\n            ...prevState,\n            currentIndex: index,\n          };\n        });\n        callback?.();\n      });\n    };\n\n    const handleLoadPlayListVideo = (index: number, callback?: () => void) => {\n      videoRef.current?.unloadAsync().then(() => {\n        setTrackInfo({\n          trackTime: 0,\n          totalTrackTime: 0,\n          cachedTrackTime: 0,\n        });\n\n        setPlayList((prevState) => {\n          return {\n            ...prevState,\n            currentIndex: index,\n          };\n        });\n        callback?.();\n      });\n    };\n\n    const handleLockScreen = () => {\n      tipViewRef.current?.updateState({\n        showTip: true,\n        tipText: 'Locked',\n        autoHide: true,\n        withIcon: true,\n        icon: (\n          <IconLock size={TIP_VIEW_ICON_SIZE} color={TIP_VIEW_ICON_COLOR} />\n        ),\n      });\n      setLocked(true);\n      onScreenLockUpdate?.(true);\n    };\n\n    const handleResizeMode = (resizeMode: ResizeMode) => {\n      const currentIndex = RESIZE_MODE_VALUES.indexOf(resizeMode);\n      if (currentIndex < RESIZE_MODE_VALUES.length - 1) {\n        setNexenConfig((prevState) => {\n          return {\n            ...prevState,\n            resizeMode: RESIZE_MODE_VALUES[currentIndex + 1],\n          };\n        });\n      } else {\n        setNexenConfig((prevState) => {\n          return {\n            ...prevState,\n            resizeMode: RESIZE_MODE_VALUES[0],\n          };\n        });\n      }\n    };\n\n    const _onRewind = () => {\n      const time = trackInfo.trackTime - FORWARD_OR_REWIND_DURATION;\n      videoRef.current?.setStatusAsync({ positionMillis: time * 1000 });\n      setTrackInfo((prevState) => {\n        return {\n          ...prevState,\n          trackTime: time,\n        };\n      });\n    };\n\n    const _onFastForward = () => {\n      const time = trackInfo.trackTime + FORWARD_OR_REWIND_DURATION;\n      videoRef.current?.setStatusAsync({ positionMillis: time * 1000 });\n      setTrackInfo((prevState) => {\n        return {\n          ...prevState,\n          trackTime: time,\n        };\n      });\n    };\n\n    const _onSkipNext = () => {\n      if (playList) {\n        if (\n          playList.currentIndex! >= 0 &&\n          playList.currentIndex! < playList.items?.length! - 1\n        ) {\n          const index = playList?.currentIndex! + 1;\n          handleLoadPlayListVideo(index, () => {\n            onSkipNext?.(index);\n          });\n        }\n      }\n    };\n\n    const _onSkipBack = () => {\n      if (playList) {\n        if (\n          playList.currentIndex! >= 0 &&\n          playList.currentIndex! < playList.items?.length! - 1\n        ) {\n          const index = playList.currentIndex! - 1;\n          handleLoadPlayListVideo(index, () => {\n            onSkipBack?.(index);\n          });\n        }\n      }\n    };\n\n    const _onPlaylistItemPress = (index: number) => {\n      if (playList) {\n        if (playList.currentIndex !== index) {\n          handleLoadPlayListVideo(index, () => {\n            onPlayListItemSelect?.(index);\n          });\n        }\n      }\n    };\n\n    const _onTogglePlayPause = () => {\n      setPaused((prevState) => !prevState);\n    };\n\n    const _onToggleFullScreen = () => {\n      onFullScreenModeUpdate?.(\n        !fullScreen,\n        nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n      );\n      setFullScreen((prevState) => !prevState);\n    };\n\n    const _onToggleVolume = () => {\n      handleMuteVideo(!nexenConfig?.muted);\n    };\n\n    const handleMuteVideo = (mute: boolean) => {\n      tipViewRef.current?.updateState({\n        showTip: true,\n        tipText: mute ? 'Sound Off' : 'Sound On',\n        autoHide: true,\n      });\n      isVolumeSeekable.current = !mute;\n      setNexenConfig((prevState) => {\n        return {\n          ...prevState,\n          muted: mute,\n        };\n      });\n      onMuteUpdate?.(mute);\n    };\n\n    /* Slide Button Callback */\n    const _onSlideStart = React.useCallback(() => {\n      isSliding.current = true;\n    }, []);\n\n    const _onSlideEnd = React.useCallback(() => {\n      isSliding.current = false;\n    }, []);\n\n    const _onReachedToStart = React.useCallback(() => {}, []);\n\n    const _onReachedToEnd = React.useCallback(() => {\n      setLocked(false);\n      isSeekable.current = true;\n      gestureEnabled.current = true;\n      tipViewRef.current?.updateState({\n        showTip: true,\n        tipText: 'Unlocked',\n        autoHide: true,\n        withIcon: true,\n        icon: (\n          <IconUnlock size={TIP_VIEW_ICON_SIZE} color={TIP_VIEW_ICON_COLOR} />\n        ),\n      });\n      onScreenLockUpdate?.(false);\n    }, []);\n\n    /* SeekBar Callback */\n    const _onSeekStart = React.useCallback(\n      (value: number, totalValue: number) => {\n        isSeeking.current = true;\n        tipViewRef.current?.updateState({\n          showTip: true,\n          tipText: getTimeTipText(value, totalValue),\n          autoHide: false,\n        });\n      },\n      []\n    );\n\n    const _onSeekUpdate = React.useCallback(\n      (value: number, totalValue: number) => {\n        if (isSeeking.current) {\n          tipViewRef.current?.updateState({\n            tipText: getTimeTipText(value, totalValue),\n          });\n        }\n      },\n      []\n    );\n\n    const _onSeekEnd = React.useCallback((value: number) => {\n      isSeeking.current = false;\n      videoRef.current?.setStatusAsync({ positionMillis: value * 1000 });\n      setTrackInfo((prevState) => {\n        return { ...prevState, trackTime: value };\n      });\n\n      tipViewRef.current?.updateState({ showTip: false, autoHide: true });\n    }, []);\n\n    /* Volume SeekBar Callback */\n    const _onVolumeSeekStart = React.useCallback(\n      async (value: number, totalValue: number) => {\n        tipViewRef.current?.updateState({\n          showTip: true,\n          tipText: `Volume : ${value}%`,\n          autoHide: false,\n        });\n        videoRef.current?.setStatusAsync({ volume: value / 100 });\n        onVolumeUpdate?.(value);\n      },\n      []\n    );\n\n    const _onVolumeSeekUpdate = React.useCallback(\n      async (value: number, totalValue: number) => {\n        tipViewRef.current?.updateState({\n          showTip: true,\n          tipText: `Volume : ${value}%`,\n          autoHide: false,\n        });\n        videoRef.current?.setStatusAsync({ volume: value / 100 });\n        onVolumeUpdate?.(value);\n      },\n      []\n    );\n\n    const _onVolumeSeekEnd = React.useCallback(async (value: number) => {\n      setNexenConfig((prevState) => {\n        return {\n          ...prevState,\n          volume: value,\n        };\n      });\n      tipViewRef.current?.updateState({ showTip: false, autoHide: true });\n      onVolumeUpdate?.(value);\n    }, []);\n\n    /* VLCPlayer Callback */\n    const _onLoadStart = React.useCallback(() => {\n      setLoading(true);\n      // setShowPoster(true);\n      showPoster.current = true;\n    }, []);\n\n    const _onLoad = React.useCallback((status: AVPlaybackStatus) => {\n      console.log(`_onLoad: ${JSON.stringify(status)}`);\n      setLoading(false);\n      setError(!status.isLoaded);\n      if (status.isLoaded) {\n        onLoad?.(\n          nexenConfig?.optimize ? nexenConfig.index : playList?.currentIndex\n        );\n        setTrackInfo((prevState) => {\n          return {\n            ...prevState,\n            totalTrackTime: status.durationMillis! / 1000,\n          };\n        });\n        if (nexenConfig?.autoPlay) {\n          setPaused(false);\n        }\n      }\n\n      isSeekable.current = status.isLoaded;\n      gestureEnabled.current = status.isLoaded;\n      isStopped.current = false;\n    }, []);\n\n    const _onPlaybackStatusUpdate = React.useCallback(\n      (status: AVPlaybackStatus) => {\n        if (status.isLoaded) {\n          if (status.positionMillis != 0 && showPoster) {\n            // setShowPoster(false);\n            showPoster.current = false;\n          }\n          if (!isSeeking.current) {\n            setTrackInfo({\n              trackTime: status.positionMillis! / 1000,\n              cachedTrackTime: status.playableDurationMillis! / 1000,\n              totalTrackTime: status.durationMillis! / 1000,\n            });\n          }\n\n          if (!status.isLooping && status.didJustFinish) {\n            if (playList) {\n              if (playList.currentIndex! < playList.items?.length! - 1) {\n                _onSkipNext();\n              } else {\n                handleStopPlayback();\n              }\n            } else {\n              handleStopPlayback();\n            }\n          }\n        }\n      },\n      [showPoster]\n    );\n\n    const _onError = React.useCallback((error: string) => {\n      setError(true);\n      onError?.(error);\n    }, []);\n\n    const newSource: NexenSource = playList?.items\n      ? playList?.items.length !== 0\n        ? playList?.items[playList.currentIndex!].itemSource\n        : nexenSource\n      : nexenSource;\n\n    if (newSource.poster) {\n      posterDisabled.current = false;\n    } else {\n      posterDisabled.current = true;\n    }\n\n    const newStyle: StyleProp<ViewStyle> = fullScreen\n      ? {\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          top: 0,\n          left: 0,\n          zIndex: 9999,\n        }\n      : { position: 'relative' };\n\n    return (\n      <View\n        style={[styles.playerContainer, style, newStyle]}\n        onLayout={_onLayoutChange}\n      >\n        {nexenConfig?.optimize ? (\n          nexenConfig?.index === nexenConfig?.activeIndex ? (\n            <Video\n              ref={videoRef}\n              style={styles.player}\n              source={newSource.source}\n              shouldPlay={!paused}\n              isMuted={nexenConfig?.muted}\n              volume={nexenConfig?.volume! / 100}\n              isLooping={nexenConfig?.repeat}\n              rate={Number(nexenConfig?.playbackSpeed)}\n              resizeMode={getKeyByValue(nexenConfig?.resizeMode!)}\n              progressUpdateIntervalMillis={500}\n              onLoadStart={_onLoadStart}\n              onLoad={_onLoad}\n              onPlaybackStatusUpdate={_onPlaybackStatusUpdate}\n              onError={_onError}\n            />\n          ) : null\n        ) : (\n          <Video\n            ref={videoRef}\n            style={styles.player}\n            source={newSource.source}\n            shouldPlay={!paused}\n            isMuted={nexenConfig?.muted}\n            volume={nexenConfig?.volume! / 100}\n            isLooping={nexenConfig?.repeat}\n            rate={Number(nexenConfig?.playbackSpeed)}\n            resizeMode={getKeyByValue(nexenConfig?.resizeMode!)}\n            progressUpdateIntervalMillis={500}\n            onLoadStart={_onLoadStart}\n            onLoad={_onLoad}\n            onPlaybackStatusUpdate={_onPlaybackStatusUpdate}\n            onError={_onError}\n          />\n        )}\n\n        {!posterDisabled.current && showPoster.current && !error && (\n          <PosterView\n            posterSource={newSource.poster}\n            posterResizeMode={nexenConfig?.posterResizeMode}\n          />\n        )}\n\n        <GestureView\n          fullScreen={fullScreen}\n          locked={locked}\n          error={error}\n          isSeeking={isSeeking}\n          isSliding={isSliding}\n          isSeekable={isSeekable}\n          gestureEnabled={gestureEnabled}\n          durationTime={durationTime}\n          currentTime={currentTime}\n          dimension={dimension}\n          playerConfig={nexenConfig}\n          nexenTheme={nexenTheme}\n          onTapDetected={_onTapDetected}\n          onGestureMove={_onGestureMove}\n          onGestureEnd={_onGestureEnd}\n        />\n\n        <>\n          {/* top control bar */}\n          {showControl && (\n            <HeaderControl\n              ref={headerControlRef}\n              title={newSource.title}\n              opacity={headerOpacity}\n              marginTop={headerTopMargin}\n              fullScreen={fullScreen}\n              locked={locked}\n              insets={insets}\n              playerConfig={nexenConfig}\n              nexenTheme={nexenTheme}\n              onBackPress={_onBackPress}\n              onAspectRatioPress={_onAspectRatioPress}\n              onMorePress={_onMorePress}\n            />\n          )}\n\n          {/* bottom control bar */}\n          {showControl && (\n            <FooterControl\n              ref={footerControlRef}\n              opacity={footerOpacity}\n              marginBottom={footerBottomMargin}\n              fullScreen={fullScreen}\n              locked={locked}\n              insets={insets}\n              playerConfig={nexenConfig}\n              nexenTheme={nexenTheme}\n              paused={paused}\n              isSeekable={isSeekable}\n              isVolumeSeekable={isVolumeSeekable}\n              trackTime={trackInfo.trackTime}\n              cachedTrackTime={trackInfo.cachedTrackTime}\n              totalTrackTime={trackInfo.totalTrackTime}\n              totalVolume={MAX_VOLUME}\n              disablePlaylistAndSkip={disablePlaylistAndSkip}\n              onPlayPress={_onTogglePlayPause}\n              onStopPress={_onStopPress}\n              onReloadPress={_onReloadPress}\n              onFullScreenPress={_onToggleFullScreen}\n              onVolumePress={_onToggleVolume}\n              onAspectRatioPress={_onAspectRatioPress}\n              onRewind={_onRewind}\n              onFastForward={_onFastForward}\n              onSkipNext={_onSkipNext}\n              onSkipBack={_onSkipBack}\n              onSeekStart={_onSeekStart}\n              onSeekUpdate={_onSeekUpdate}\n              onSeekEnd={_onSeekEnd}\n              onVolumeSeekStart={_onVolumeSeekStart}\n              onVolumeSeekUpdate={_onVolumeSeekUpdate}\n              onVolumeSeekEnd={_onVolumeSeekEnd}\n              onSlideStart={_onSlideStart}\n              onSlideEnd={_onSlideEnd}\n              onReachedToStart={_onReachedToStart}\n              onReachedToEnd={_onReachedToEnd}\n            />\n          )}\n          {/* bottom line bar */}\n          {!showControl &&\n            !showMoreControl &&\n            !showSpeedControl &&\n            !showPlaylistControl && (\n              <LineSeekBar\n                trackTime={trackInfo.trackTime}\n                totalTrackTime={trackInfo.totalTrackTime}\n                layoutWidth={dimension.width}\n                theme={lineSeekBarTheme}\n              />\n            )}\n\n          {showMoreControl && (\n            <MoreControl\n              ref={moreControlRef}\n              animateFrom={'RIGHT'}\n              distance={MORE_CONTROL_CONTAINER_WIDTH}\n              style={{\n                width: MORE_CONTROL_CONTAINER_WIDTH,\n                backgroundColor: CONTAINER_BACKGROUND_COLOR,\n                borderTopLeftRadius: CONTAINER_BORDER_RADIUS,\n                borderBottomLeftRadius: CONTAINER_BORDER_RADIUS,\n              }}\n              fullScreen={fullScreen}\n              disablePlaylistAndSkip={disablePlaylistAndSkip}\n              insets={insets}\n              playerConfig={nexenConfig}\n              nexenTheme={nexenTheme}\n              onItemPress={_onMoreItemPress}\n            />\n          )}\n\n          {showSpeedControl && (\n            <SpeedControl\n              ref={speedControlRef}\n              animateFrom={'BOTTOM'}\n              distance={SPEED_CONTROL_CONTAINER_HEIGHT}\n              style={{\n                height: SPEED_CONTROL_CONTAINER_HEIGHT,\n                backgroundColor: CONTAINER_BACKGROUND_COLOR,\n                borderTopLeftRadius: CONTAINER_BORDER_RADIUS,\n                borderTopRightRadius: CONTAINER_BORDER_RADIUS,\n              }}\n              fullScreen={fullScreen}\n              insets={insets}\n              currentSpeed={nexenConfig?.playbackSpeed}\n              nexenTheme={nexenTheme}\n              onSpeedChange={_onSpeedUpdate}\n            />\n          )}\n\n          {showPlaylistControl && (\n            <PlaylistControl\n              ref={playlistControlRef}\n              animateFrom={'BOTTOM'}\n              distance={PLAYLIST_CONTROL_CONTAINER_HEIGHT}\n              style={{\n                height: PLAYLIST_CONTROL_CONTAINER_HEIGHT,\n                backgroundColor: CONTAINER_BACKGROUND_COLOR,\n                borderTopLeftRadius: CONTAINER_BORDER_RADIUS,\n                borderTopRightRadius: CONTAINER_BORDER_RADIUS,\n              }}\n              playlist={playList?.items}\n              playlistIndex={playList?.currentIndex}\n              fullScreen={fullScreen}\n              nexenTheme={nexenTheme}\n              insets={insets}\n              onPlaylistItemPress={_onPlaylistItemPress}\n            />\n          )}\n\n          {paused &&\n            !showControl &&\n            !showMoreControl &&\n            !showSpeedControl &&\n            !showPlaylistControl &&\n            !loading &&\n            !locked &&\n            !error &&\n            !nexenConfig?.disableOnScreenPlayButton && (\n              <PlayButton\n                dimension={dimension}\n                onPlayPress={_onPlayButtonPress}\n              />\n            )}\n\n          {/* Loader */}\n          {!error && loading && (\n            <Loader\n              style={{\n                backgroundColor: CONTAINER_BACKGROUND_COLOR,\n                borderRadius: CONTAINER_BORDER_RADIUS,\n              }}\n              theme={loaderTheme}\n              loaderText={nexenConfig?.loaderText}\n            />\n          )}\n\n          {nexenConfig?.layoutMode !== 'basic' && (\n            <TipView\n              ref={tipViewRef}\n              style={{\n                backgroundColor: CONTAINER_BACKGROUND_COLOR,\n                borderRadius: CONTAINER_BORDER_RADIUS,\n              }}\n              theme={tipViewTheme}\n            />\n          )}\n        </>\n      </View>\n    );\n  }\n);\n\nexport default NexenPlayer;\n\nNexenPlayer.defaultProps = {\n  playList: {\n    items: [],\n    currentIndex: 0,\n  },\n  insets: {\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n  },\n};\n\nconst styles = StyleSheet.create({\n  playerContainer: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#0a0a0a',\n  },\n  player: {\n    width: '100%',\n    height: '100%',\n  },\n});\n"],"mappings":"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"}