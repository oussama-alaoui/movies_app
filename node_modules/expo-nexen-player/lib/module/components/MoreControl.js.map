{"version":3,"names":["React","FlatList","StyleSheet","Text","TouchableOpacity","IconFilm","IconReload","IconRepeat","IconUnlock","IconZap","GradientView","withAnimation","ModalView","MoreControl","props","style","fullScreen","disablePlaylistAndSkip","insets","playerConfig","nexenTheme","onItemPress","moreItems","setMoreItems","useState","ICON_SIZE","sizes","secondaryIconSize","ICON_COLOR","colors","secondaryIconColor","TEXT_COLOR","secondaryTextColor","CONTAINER_VERTICAL_PADDING","top","bottom","paddingVertical","useEffect","MORE_ITEMS","id","icon","label","disablePlayList","splice","containerStyle","right","paddingHorizontal","itemTextStyle","color","fontFamily","fonts","secondaryFont","renderMoreItem","item","styles","itemContainer","itemText","container","height","width","x","y","listContainer","defaultProps","create","zIndex","overflow","position","left","flex","flexDirection","alignItems","fontSize","marginLeft"],"sources":["MoreControl.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  FlatList,\n  ListRenderItemInfo,\n  StyleProp,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  ViewStyle,\n} from 'react-native';\nimport type { NexenTheme } from '../utils/Theme';\nimport {\n  IconFilm,\n  IconReload,\n  IconRepeat,\n  IconUnlock,\n  IconZap,\n} from '../assets/icons';\nimport GradientView from './GradientView';\nimport { EdgeInsets, NexenConfig } from './NexenPlayer';\nimport { withAnimation } from '../hoc/withAnimation';\nimport ModalView from './ModalView';\n\nexport type MoreItem = {\n  id: string;\n  icon: React.ReactNode;\n  label: string;\n};\n\ntype MoreControlProps = {\n  fullScreen: boolean;\n  disablePlaylistAndSkip?: boolean;\n  insets?: EdgeInsets;\n  playerConfig?: NexenConfig;\n  nexenTheme?: NexenTheme;\n  style?: StyleProp<ViewStyle>;\n  onItemPress?: (item: MoreItem) => void;\n};\n\nconst MoreControl = (props: MoreControlProps) => {\n  const {\n    style,\n    fullScreen,\n    disablePlaylistAndSkip,\n    insets,\n    playerConfig,\n    nexenTheme,\n    onItemPress,\n  } = props;\n\n  const [moreItems, setMoreItems] = React.useState<MoreItem[]>([]);\n  const ICON_SIZE = nexenTheme?.sizes?.secondaryIconSize;\n  const ICON_COLOR = nexenTheme?.colors?.secondaryIconColor;\n  const TEXT_COLOR = nexenTheme?.colors?.secondaryTextColor;\n\n  const CONTAINER_VERTICAL_PADDING = fullScreen\n    ? (insets?.top! + insets?.bottom!) / 2 > 0\n      ? (insets?.top! + insets?.bottom!) / 2\n      : nexenTheme?.sizes?.paddingVertical\n    : nexenTheme?.sizes?.paddingVertical;\n\n  React.useEffect(() => {\n    const MORE_ITEMS = [\n      {\n        id: 'lock',\n        icon: <IconUnlock size={ICON_SIZE} color={ICON_COLOR} />,\n        label: 'Lock',\n      },\n      {\n        id: 'speed',\n        icon: <IconZap size={ICON_SIZE} color={ICON_COLOR} />,\n        label: 'Playback Speed',\n      },\n      {\n        id: 'repeat',\n        icon: <IconRepeat size={ICON_SIZE} color={ICON_COLOR} />,\n        label: 'Repeat Mode',\n      },\n      {\n        id: 'reload',\n        icon: <IconReload size={ICON_SIZE} color={ICON_COLOR} />,\n        label: 'Reload Video',\n      },\n      // {\n      //   id: 'info',\n      //   icon: <IconInfo size={ICON_SIZE} color={ICON_COLOR} />,\n      //   label: 'Video Info',\n      // },\n    ];\n\n    if (!disablePlaylistAndSkip && !playerConfig?.disablePlayList) {\n      MORE_ITEMS.splice(3, 0, {\n        id: 'playlist',\n        icon: <IconFilm size={ICON_SIZE} color={ICON_COLOR} />,\n        label: 'Video Playlist',\n      });\n    }\n    setMoreItems(MORE_ITEMS);\n  }, [playerConfig]);\n\n  const containerStyle = {\n    top: CONTAINER_VERTICAL_PADDING,\n    bottom: CONTAINER_VERTICAL_PADDING,\n    right: 0,\n    paddingHorizontal: 0,\n    paddingVertical: 0,\n  };\n\n  const itemTextStyle = {\n    color: TEXT_COLOR,\n    fontFamily: nexenTheme?.fonts?.secondaryFont,\n  };\n\n  const renderMoreItem = ({ item }: ListRenderItemInfo<MoreItem>) => {\n    return (\n      <TouchableOpacity\n        style={styles.itemContainer}\n        activeOpacity={0.6}\n        onPress={() => {\n          onItemPress?.(item);\n        }}\n      >\n        {item.icon}\n        <Text style={[styles.itemText, itemTextStyle]}>{item.label}</Text>\n      </TouchableOpacity>\n    );\n  };\n  return (\n    <ModalView style={[styles.container, style, containerStyle]}>\n      <GradientView\n        style={{\n          height: '100%',\n          width: '100%',\n        }}\n        startPoint={{ x: 0, y: 0 }}\n        endPoint={{ x: 1, y: 0 }}\n        startOpacity={0.0}\n        middleOpacity={0.2}\n        endOpacity={0.5}\n      />\n      <TouchableOpacity style={styles.listContainer} activeOpacity={1}>\n        <FlatList\n          keyExtractor={(item: MoreItem) => item.id}\n          data={moreItems}\n          renderItem={renderMoreItem}\n        />\n      </TouchableOpacity>\n    </ModalView>\n  );\n};\n\nexport default withAnimation(MoreControl);\n\nMoreControl.defaultProps = {};\n\nconst styles = StyleSheet.create({\n  container: {\n    zIndex: 110,\n    overflow: 'hidden',\n  },\n  listContainer: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    paddingVertical: 8,\n    paddingHorizontal: 8,\n  },\n  itemContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    paddingHorizontal: 8,\n    paddingVertical: 10,\n  },\n  itemText: {\n    fontSize: 15,\n    marginLeft: 16,\n  },\n});\n"],"mappings":"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"}