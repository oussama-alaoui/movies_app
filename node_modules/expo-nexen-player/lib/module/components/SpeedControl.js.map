{"version":3,"names":["React","StyleSheet","TouchableHighlight","getAlphaColor","GradientView","StepSeekBar","ModalView","withAnimation","speedData","SpeedControl","props","style","currentSpeed","fullScreen","nexenTheme","insets","onSpeedChange","curerntIndex","indexOf","validIndex","CONTAINER_HORIZONTAL_PADDING","left","right","stepSeekBarTheme","useMemo","font","fonts","secondaryFont","lineColor","speedSeekBar","colors","accentColor","dotColor","secondaryColor","thumbColor","textColor","secondaryTextColor","textSize","lineHeight","dotSize","thumbSize","dotCornerRadius","thumbCornerRadius","SEEK_BAR_HEIGHT","containerStyle","bottom","paddingHorizontal","paddingVertical","stepSeekBarStyle","height","styles","container","width","innerContainer","defaultProps","create","maxHeight","zIndex","overflow","position","top","padding","justifyContent"],"sources":["SpeedControl.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  StyleProp,\n  StyleSheet,\n  TouchableHighlight,\n  ViewStyle,\n} from 'react-native';\nimport type { NexenTheme } from '../utils/Theme';\nimport { getAlphaColor } from '../utils/ColorUtil';\n\nimport GradientView from './GradientView';\nimport StepSeekBar, { StepSeekBarTheme } from './StepSeekBar';\nimport ModalView from './ModalView';\nimport { withAnimation } from '../hoc/withAnimation';\nimport { EdgeInsets, PlaybackSpeed } from './NexenPlayer';\n\nconst speedData = ['0.25', '0.5', '0.75', '1.0', '1.5', '2.0', '3.0'];\n\ntype SpeedControlProps = {\n  style?: StyleProp<ViewStyle>;\n  currentSpeed?: PlaybackSpeed;\n  fullScreen: boolean;\n  nexenTheme?: NexenTheme;\n  insets?: EdgeInsets;\n  onSpeedChange?: (speed: string) => void;\n};\n\nconst SpeedControl = (props: SpeedControlProps) => {\n  const { style, currentSpeed, fullScreen, nexenTheme, insets, onSpeedChange } =\n    props;\n\n  const curerntIndex = speedData.indexOf(currentSpeed!);\n  const validIndex = curerntIndex < 0 ? 3 : curerntIndex;\n\n  const CONTAINER_HORIZONTAL_PADDING = fullScreen\n    ? (insets?.left! + insets?.right!) / 2 > 0\n      ? (insets?.left! + insets?.right!) / 2\n      : 8\n    : 8;\n\n  const stepSeekBarTheme = React.useMemo((): StepSeekBarTheme => {\n    return {\n      font: nexenTheme?.fonts?.secondaryFont,\n      lineColor:\n        nexenTheme?.speedSeekBar?.lineColor ||\n        getAlphaColor(nexenTheme?.colors?.accentColor!, 0.7),\n      dotColor:\n        nexenTheme?.speedSeekBar?.dotColor ||\n        nexenTheme?.colors?.secondaryColor,\n      thumbColor:\n        nexenTheme?.speedSeekBar?.thumbColor ||\n        nexenTheme?.colors?.secondaryColor,\n      textColor:\n        nexenTheme?.speedSeekBar?.textColor ||\n        nexenTheme?.colors?.secondaryTextColor,\n\n      textSize: nexenTheme?.speedSeekBar?.textSize,\n      lineHeight: nexenTheme?.speedSeekBar?.lineHeight,\n      dotSize: nexenTheme?.speedSeekBar?.dotSize,\n      thumbSize: nexenTheme?.speedSeekBar?.thumbSize,\n      dotCornerRadius: nexenTheme?.speedSeekBar?.dotCornerRadius,\n      thumbCornerRadius: nexenTheme?.speedSeekBar?.thumbCornerRadius,\n    };\n  }, [nexenTheme]);\n\n  const SEEK_BAR_HEIGHT =\n    stepSeekBarTheme.thumbSize! + 12 * 2 + stepSeekBarTheme?.textSize!;\n\n  const containerStyle = {\n    left: CONTAINER_HORIZONTAL_PADDING,\n    right: CONTAINER_HORIZONTAL_PADDING,\n    bottom: 0,\n    paddingHorizontal: 0,\n    paddingVertical: 0,\n  };\n\n  const stepSeekBarStyle = {\n    height: SEEK_BAR_HEIGHT,\n  };\n\n  return (\n    <ModalView style={[styles.container, style, containerStyle]}>\n      <GradientView\n        style={{\n          height: '100%',\n          width: '100%',\n        }}\n        startOpacity={0.0}\n        middleOpacity={0.2}\n        endOpacity={0.5}\n      />\n      <TouchableHighlight style={[styles.innerContainer]}>\n        <StepSeekBar\n          style={stepSeekBarStyle}\n          data={speedData}\n          initialIndex={validIndex}\n          theme={stepSeekBarTheme}\n          onStepChange={onSpeedChange}\n        />\n      </TouchableHighlight>\n    </ModalView>\n  );\n};\n\nexport default withAnimation(SpeedControl);\n\nSpeedControl.defaultProps = {};\n\nconst styles = StyleSheet.create({\n  container: {\n    maxHeight: 120,\n    zIndex: 110,\n    overflow: 'hidden',\n  },\n  innerContainer: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    padding: 16,\n    justifyContent: 'center',\n  },\n});\n"],"mappings":"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"}