{"version":3,"names":["React","Animated","I18nManager","PanResponder","StyleSheet","TouchableOpacity","View","RippleView","IconFastForward","IconRewind","IconSun","IconVolume2","SeekBarTipView","TipView","ErrorView","clamp","originalToSeekValue","seekToOriginalValue","getForOrRewTimeTipText","getForwardOrRewindTimeTipText","getAlphaColor","getBrightnessIcon","getVolumeIcon","FORWARD_OR_REWIND_DURATION","BAR_HEIGHT_PERCENTAGE","MAX_VOLUME","MAX_BRIGHTNESS","GestureEventType","TapEventType","GestureView","props","style","fullScreen","locked","error","isSeeking","isSliding","isSeekable","gestureEnabled","dimension","currentTime","durationTime","playerConfig","nexenTheme","onTapDetected","onGestureMove","onGestureEnd","tapTimeoutRef","useRef","volumeBarHeight","Value","current","brightnessBarHeight","seekVolume","seekVolumeDy","seekBrightness","seekBrightnessDy","locationX","locationY","dx","dy","storeDx","storeDy","layoutSize","width","height","leftBound","rightBound","trackFactor","volumeFactor","brightnessFactor","activeGesture","tipViewRef","leftRippleViewRef","rightRippleViewRef","volumeTipViewRef","brightnessTipViewRef","minTime","maxTime","symbol","layoutOption","layoutMode","RIPPLE_ICON_SIZE","sizes","rippleIconSize","RIPPLE_ICON_COLOR","colors","rippleIconColor","CONTAINER_BACKGROUND_COLOR","modalBackgroundColor","primaryColor","CONTAINER_BORDER_RADIUS","modalCornerRadius","rtlMultiplier","isRTL","volumeBarTheme","useMemo","font","fonts","secondaryFont","barColor","volumeSeekBar","secondaryColor","underlayColor","textColor","tagView","secondaryTextColor","textSize","secondaryTextSize","iconSize","secondaryIconSize","iconColor","secondaryIconColor","brightnessBarTheme","tipViewTheme","tipView","errorTheme","useEffect","volume","updateState","tipText","icon","setValue","brightness","clearTimeout","calculateMinMaxTime","forwardOrRewindTime","time","totalTime","handleDoubleTapForward","onPress","DOUBLE_TAP_RIGHT","handleDoubleTapRewind","DOUBLE_TAP_LEFT","onScreenTouch","event","nativeEvent","DOUBLE_TAP","DOUBLE_TAP_MIDDLE","setTimeout","SINGLE_TAP","doubleTapTime","panResponder","create","onStartShouldSetPanResponder","e","gestureState","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","Math","abs","onMoveShouldSetPanResponderCapture","onPanResponderGrant","onPanResponderMove","length","push","floor","showTip","autoHide","round","boundHeight","originalBrightness","BRIGHTNESS","originalVolume","VOLUME","onPanResponderRelease","TRACK","onPanResponderTerminationRequest","onPanResponderTerminate","onShouldBlockNativeResponder","styles","container","panHandlers","innerContainer","position","left","top","bottom","right","transform","scaleX","backgroundColor","borderRadius","errorText","memo","flex","justifyContent","alignItems"],"sources":["GestureView.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  GestureResponderEvent,\n  I18nManager,\n  PanResponder,\n  PanResponderGestureState,\n  StyleProp,\n  StyleSheet,\n  TouchableOpacity,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport RippleView, { RippleViewRef } from './RippleView';\nimport {\n  IconFastForward,\n  IconRewind,\n  IconSun,\n  IconVolume2,\n} from '../assets/icons';\nimport SeekBarTipView, {\n  SeekBarTipViewRef,\n  SeekBarTipViewTheme,\n} from './SeekBarTipView';\nimport TipView, { TipViewRef, TipViewTheme } from './TipView';\nimport ErrorView, { ErrorViewTheme } from './ErrorView';\nimport {\n  clamp,\n  originalToSeekValue,\n  seekToOriginalValue,\n} from '../utils/MathUtil';\nimport {\n  getForOrRewTimeTipText,\n  getForwardOrRewindTimeTipText,\n} from '../utils/StringUtil';\nimport { getAlphaColor } from '../utils/ColorUtil';\nimport { getBrightnessIcon, getVolumeIcon } from '../utils/ComponentUtil';\nimport type { Dimension, NexenConfig } from './NexenPlayer';\nimport type { NexenTheme } from '../utils/Theme';\n\nconst FORWARD_OR_REWIND_DURATION = 10;\nconst BAR_HEIGHT_PERCENTAGE = 0.35;\nexport const MAX_VOLUME = 100;\nexport const MAX_BRIGHTNESS = 100;\n\nexport enum GestureEventType {\n  TRACK = 'TRACK',\n  VOLUME = 'VOLUME',\n  BRIGHTNESS = 'BRIGHTNESS',\n}\n\nexport enum TapEventType {\n  SINGLE_TAP = 'SINGLE_TAP',\n  DOUBLE_TAP = 'DOUBLE_TAP',\n  DOUBLE_TAP_LEFT = 'DOUBLE_TAP_LEFT',\n  DOUBLE_TAP_RIGHT = 'DOUBLE_TAP_RIGHT',\n  DOUBLE_TAP_MIDDLE = 'DOUBLE_TAP_MIDDLE',\n}\n\ntype GestureViewProps = {\n  style?: StyleProp<ViewStyle>;\n  fullScreen: boolean;\n  locked: boolean;\n  error?: boolean;\n  isSeeking: React.MutableRefObject<boolean>;\n  isSliding: React.MutableRefObject<boolean>;\n  isSeekable: React.MutableRefObject<boolean>;\n  gestureEnabled: React.MutableRefObject<boolean>;\n  durationTime: React.MutableRefObject<number>;\n  currentTime: React.MutableRefObject<number>;\n  playerConfig?: NexenConfig;\n  dimension: Dimension;\n  nexenTheme?: NexenTheme;\n  onTapDetected?: (event: TapEventType, value?: number) => void;\n  onGestureStart?: (event: GestureEventType, value: number) => void;\n  onGestureMove?: (event: GestureEventType, value: number) => void;\n  onGestureEnd?: (event: GestureEventType, value: number) => void;\n};\n\nconst GestureView = (props: GestureViewProps) => {\n  const {\n    style,\n    fullScreen,\n    locked,\n    error,\n    isSeeking,\n    isSliding,\n    isSeekable,\n    gestureEnabled,\n    dimension,\n    currentTime,\n    durationTime,\n    playerConfig,\n    nexenTheme,\n    onTapDetected,\n    onGestureMove,\n    onGestureEnd,\n  } = props;\n\n  const tapTimeoutRef = React.useRef<NodeJS.Timeout | null>(null);\n\n  const volumeBarHeight = React.useRef(new Animated.Value(70)).current;\n  const brightnessBarHeight = React.useRef(new Animated.Value(0)).current;\n\n  const seekVolume = React.useRef(0);\n  const seekVolumeDy = React.useRef(0);\n  const seekBrightness = React.useRef(0);\n  const seekBrightnessDy = React.useRef(0);\n  const locationX = React.useRef(0);\n  const locationY = React.useRef(0);\n  const dx = React.useRef(0);\n  const dy = React.useRef(0);\n  const storeDx = React.useRef<number[]>([]);\n  const storeDy = React.useRef<number[]>([]);\n\n  const layoutSize = React.useRef({ width: 0, height: 0 });\n  const leftBound = React.useRef(0);\n  const rightBound = React.useRef(0);\n  const trackFactor = React.useRef(1);\n  const volumeFactor = React.useRef(1);\n  const brightnessFactor = React.useRef(1);\n\n  const activeGesture = React.useRef('');\n\n  const tipViewRef = React.useRef<TipViewRef>(null);\n  const leftRippleViewRef = React.useRef<RippleViewRef>(null);\n  const rightRippleViewRef = React.useRef<RippleViewRef>(null);\n  const volumeTipViewRef = React.useRef<SeekBarTipViewRef>(null);\n  const brightnessTipViewRef = React.useRef<SeekBarTipViewRef>(null);\n\n  const minTime = React.useRef(0);\n  const maxTime = React.useRef(0);\n  const symbol = React.useRef('');\n  const layoutOption = React.useRef(playerConfig?.layoutMode);\n\n  const RIPPLE_ICON_SIZE = nexenTheme?.sizes?.rippleIconSize;\n  const RIPPLE_ICON_COLOR = nexenTheme?.colors?.rippleIconColor;\n\n  const CONTAINER_BACKGROUND_COLOR =\n    nexenTheme?.colors?.modalBackgroundColor ||\n    getAlphaColor(nexenTheme?.colors?.primaryColor!, 0.7);\n  const CONTAINER_BORDER_RADIUS = nexenTheme?.sizes?.modalCornerRadius;\n\n  const rtlMultiplier = React.useRef(1);\n  const isRTL = I18nManager.isRTL;\n  rtlMultiplier.current = isRTL ? -1 : 1;\n\n  const volumeBarTheme = React.useMemo((): SeekBarTipViewTheme => {\n    return {\n      font: nexenTheme?.fonts?.secondaryFont,\n      barColor:\n        nexenTheme?.volumeSeekBar?.barColor ||\n        getAlphaColor(nexenTheme?.colors?.secondaryColor!, 0.8),\n      underlayColor:\n        nexenTheme?.volumeSeekBar?.underlayColor ||\n        getAlphaColor(nexenTheme?.colors?.primaryColor!, 0.3),\n      textColor:\n        nexenTheme?.tagView?.textColor ||\n        nexenTheme?.colors?.secondaryTextColor,\n      textSize:\n        nexenTheme?.tagView?.textSize || nexenTheme?.sizes?.secondaryTextSize,\n      iconSize: nexenTheme?.sizes?.secondaryIconSize,\n      iconColor:\n        nexenTheme?.tagView?.iconColor ||\n        nexenTheme?.colors?.secondaryIconColor,\n    };\n  }, [nexenTheme, fullScreen]);\n\n  const brightnessBarTheme = React.useMemo((): SeekBarTipViewTheme => {\n    return {\n      font: nexenTheme?.fonts?.secondaryFont,\n      barColor:\n        nexenTheme?.volumeSeekBar?.barColor ||\n        getAlphaColor(nexenTheme?.colors?.secondaryColor!, 0.8),\n      underlayColor:\n        nexenTheme?.volumeSeekBar?.underlayColor ||\n        getAlphaColor(nexenTheme?.colors?.primaryColor!, 0.3),\n      textColor:\n        nexenTheme?.tagView?.textColor ||\n        nexenTheme?.colors?.secondaryTextColor,\n      textSize:\n        nexenTheme?.tagView?.textSize || nexenTheme?.sizes?.secondaryTextSize,\n      iconSize:\n        nexenTheme?.tagView?.iconSize || nexenTheme?.sizes?.secondaryIconSize,\n      iconColor:\n        nexenTheme?.tagView?.iconColor ||\n        nexenTheme?.colors?.secondaryIconColor,\n    };\n  }, [nexenTheme, fullScreen]);\n\n  const tipViewTheme = React.useMemo((): TipViewTheme => {\n    return {\n      font: nexenTheme?.fonts?.secondaryFont,\n      textColor:\n        nexenTheme?.tipView?.textColor ||\n        nexenTheme?.colors?.secondaryTextColor,\n      textSize:\n        nexenTheme?.tipView?.textSize || nexenTheme?.sizes?.secondaryTextSize,\n    };\n  }, [nexenTheme, fullScreen]);\n\n  const errorTheme = React.useMemo((): ErrorViewTheme => {\n    return {\n      font: nexenTheme?.fonts?.secondaryFont,\n      iconSize: 40,\n      iconColor:\n        nexenTheme?.tipView?.iconColor ||\n        nexenTheme?.colors?.secondaryIconColor,\n      textColor:\n        nexenTheme?.tipView?.textColor ||\n        nexenTheme?.colors?.secondaryTextColor,\n      textSize: 16,\n    };\n  }, [nexenTheme]);\n\n  React.useEffect(() => {\n    layoutOption.current = playerConfig?.layoutMode;\n  }, [playerConfig]);\n\n  React.useEffect(() => {\n    const { width, height } = dimension;\n    layoutSize.current = { width, height };\n    leftBound.current = (width * rtlMultiplier.current) / 4;\n    rightBound.current = width * rtlMultiplier.current - leftBound.current;\n    trackFactor.current = width / 60;\n    volumeFactor.current = height / (height * BAR_HEIGHT_PERCENTAGE);\n    brightnessFactor.current = height / (height * BAR_HEIGHT_PERCENTAGE);\n\n    seekVolume.current = clamp(\n      originalToSeekValue(\n        playerConfig?.volume!,\n        MAX_VOLUME,\n        height * BAR_HEIGHT_PERCENTAGE\n      ),\n      0,\n      height * BAR_HEIGHT_PERCENTAGE\n    );\n\n    volumeTipViewRef.current?.updateState({\n      tipText: `${playerConfig?.volume}%`,\n      icon: getVolumeIcon(\n        playerConfig?.volume!,\n        MAX_VOLUME,\n        volumeBarTheme.iconSize,\n        volumeBarTheme.iconColor\n      ),\n    });\n    volumeBarHeight.setValue(seekVolume.current);\n\n    seekBrightness.current = clamp(\n      originalToSeekValue(\n        playerConfig?.brightness!,\n        MAX_BRIGHTNESS,\n        height * BAR_HEIGHT_PERCENTAGE\n      ) + seekBrightnessDy.current,\n      0,\n      height * BAR_HEIGHT_PERCENTAGE\n    );\n\n    brightnessTipViewRef.current?.updateState({\n      tipText: `${playerConfig?.brightness}%`,\n      icon: getBrightnessIcon(\n        playerConfig?.brightness!,\n        MAX_BRIGHTNESS,\n        brightnessBarTheme.iconSize,\n        brightnessBarTheme.iconColor\n      ),\n    });\n    brightnessBarHeight.setValue(seekBrightness.current);\n  }, [playerConfig, dimension]);\n\n  React.useEffect(() => {\n    return () => {\n      if (tapTimeoutRef.current) {\n        clearTimeout(tapTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  const calculateMinMaxTime = (\n    forwardOrRewindTime: number,\n    time: number,\n    totalTime: number\n  ) => {\n    if (forwardOrRewindTime >= 0) {\n      symbol.current = '+';\n      if (forwardOrRewindTime + time >= totalTime) {\n        maxTime.current = totalTime;\n        minTime.current = totalTime - time;\n      } else {\n        maxTime.current = forwardOrRewindTime + time;\n        minTime.current = forwardOrRewindTime;\n      }\n    } else {\n      symbol.current = '-';\n      if (forwardOrRewindTime + time >= 0) {\n        maxTime.current = time + forwardOrRewindTime;\n        minTime.current = forwardOrRewindTime;\n      } else {\n        maxTime.current = 0;\n        minTime.current = -time;\n      }\n    }\n  };\n\n  const handleDoubleTapForward = () => {\n    const time = currentTime.current + FORWARD_OR_REWIND_DURATION;\n    rightRippleViewRef.current?.onPress(\n      getForOrRewTimeTipText('+', FORWARD_OR_REWIND_DURATION, time)\n    );\n    onTapDetected?.(TapEventType.DOUBLE_TAP_RIGHT, time);\n  };\n\n  const handleDoubleTapRewind = () => {\n    const time = currentTime.current - FORWARD_OR_REWIND_DURATION;\n    leftRippleViewRef.current?.onPress(\n      getForOrRewTimeTipText('-', FORWARD_OR_REWIND_DURATION, time)\n    );\n    onTapDetected?.(TapEventType.DOUBLE_TAP_LEFT, time);\n  };\n\n  const onScreenTouch = (event: GestureResponderEvent) => {\n    const { locationX } = event.nativeEvent;\n    if (tapTimeoutRef.current) {\n      clearTimeout(tapTimeoutRef.current);\n      tapTimeoutRef.current = null;\n      if (\n        !gestureEnabled.current ||\n        layoutOption?.current === 'basic' ||\n        locked\n      )\n        return;\n      onTapDetected?.(TapEventType.DOUBLE_TAP);\n\n      if (locationX * rtlMultiplier.current < leftBound.current) {\n        handleDoubleTapRewind();\n      } else if (locationX * rtlMultiplier.current > rightBound.current) {\n        handleDoubleTapForward();\n      } else {\n        onTapDetected?.(TapEventType.DOUBLE_TAP_MIDDLE);\n      }\n      // if (showControl) {\n      //   if (controlHideOption && controlHideOption == 'auto') {\n      //     resetControlTimeout();\n      //   }\n      // }\n    } else {\n      tapTimeoutRef.current = setTimeout(() => {\n        onTapDetected?.(TapEventType.SINGLE_TAP);\n        tapTimeoutRef.current = null;\n      }, playerConfig?.doubleTapTime);\n    }\n  };\n\n  const panResponder = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => true,\n      onStartShouldSetPanResponderCapture: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => false,\n      onMoveShouldSetPanResponder: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => {\n        if (isSeeking.current || isSliding.current) {\n          return false;\n        }\n        return Math.abs(gestureState.dx) > 2 || Math.abs(gestureState.dy) > 2;\n      },\n      onMoveShouldSetPanResponderCapture: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => {\n        if (isSeeking.current || isSliding.current) {\n          return false;\n        }\n        return Math.abs(gestureState.dx) > 2 || Math.abs(gestureState.dy) > 2;\n        // return  || ;\n      },\n      onPanResponderGrant: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => {\n        if (\n          !gestureEnabled.current ||\n          !isSeekable.current ||\n          layoutOption?.current !== 'advanced'\n        )\n          return;\n        locationX.current = e.nativeEvent.locationX;\n        locationY.current = e.nativeEvent.locationY;\n      },\n      onPanResponderMove: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => {\n        if (\n          !gestureEnabled.current ||\n          !isSeekable.current ||\n          layoutOption?.current !== 'advanced'\n        )\n          return;\n\n        if (dx.current !== gestureState.dx || dy.current !== gestureState.dy) {\n          dx.current = gestureState.dx;\n          dy.current = gestureState.dy;\n          if (storeDx.current.length < 5) {\n            storeDx.current.push(gestureState.dx);\n            storeDy.current.push(gestureState.dy);\n          }\n\n          if (storeDx.current.length === 5) {\n            if (\n              Math.abs(storeDx.current[4] - storeDx.current[0]) >\n              Math.abs(storeDy.current[4] - storeDy.current[0])\n            ) {\n              if (\n                !(locationX.current + dx.current > 0) ||\n                !(locationX.current + dx.current < layoutSize.current.width)\n              )\n                return;\n\n              if (\n                activeGesture.current === '' ||\n                activeGesture.current === 'track'\n              ) {\n                activeGesture.current = 'track';\n                calculateMinMaxTime(\n                  Math.floor(\n                    (gestureState.dx * rtlMultiplier.current) /\n                      trackFactor.current\n                  ),\n                  Math.floor(currentTime.current),\n                  Math.floor(durationTime.current)\n                );\n                tipViewRef.current?.updateState({\n                  showTip: true,\n                  tipText: getForwardOrRewindTimeTipText(\n                    symbol.current,\n                    Math.floor(minTime.current),\n                    Math.floor(maxTime.current)\n                  ),\n                  autoHide: false,\n                });\n              }\n            } else {\n              if (\n                !(locationY.current + dy.current >= 0) ||\n                !(locationY.current + dy.current <= layoutSize.current.height)\n              )\n                return;\n              if (\n                e.nativeEvent.locationX * rtlMultiplier.current <\n                (layoutSize.current.width * rtlMultiplier.current) / 2\n              ) {\n                if (\n                  activeGesture.current === '' ||\n                  activeGesture.current === 'brightness'\n                ) {\n                  activeGesture.current = 'brightness';\n                  if (gestureState.dy >= 0) {\n                    seekBrightnessDy.current = -Math.round(\n                      gestureState.dy / brightnessFactor.current\n                    );\n                    const boundHeight = clamp(\n                      seekBrightness.current + seekBrightnessDy.current,\n                      0,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n                    const originalBrightness = seekToOriginalValue(\n                      boundHeight,\n                      MAX_BRIGHTNESS,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n                    brightnessTipViewRef.current?.updateState({\n                      showTip: true,\n                      tipText: `${originalBrightness}%`,\n                      icon: getBrightnessIcon(\n                        originalBrightness,\n                        MAX_BRIGHTNESS,\n                        brightnessBarTheme.iconSize,\n                        brightnessBarTheme.iconColor\n                      ),\n                    });\n                    brightnessBarHeight.setValue(boundHeight);\n\n                    onGestureMove?.(\n                      GestureEventType.BRIGHTNESS,\n                      originalBrightness\n                    );\n                  } else {\n                    seekBrightnessDy.current = Math.round(\n                      Math.abs(gestureState.dy) / brightnessFactor.current\n                    );\n                    const boundHeight = clamp(\n                      seekBrightness.current + seekBrightnessDy.current,\n                      0,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n                    const originalBrightness = seekToOriginalValue(\n                      boundHeight,\n                      MAX_BRIGHTNESS,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n                    brightnessTipViewRef.current?.updateState({\n                      showTip: true,\n                      tipText: `${originalBrightness}%`,\n                      icon: getBrightnessIcon(\n                        originalBrightness,\n                        MAX_BRIGHTNESS,\n                        brightnessBarTheme.iconSize,\n                        brightnessBarTheme.iconColor\n                      ),\n                    });\n                    brightnessBarHeight.setValue(boundHeight);\n                    onGestureMove?.(\n                      GestureEventType.BRIGHTNESS,\n                      originalBrightness\n                    );\n                  }\n                }\n              } else {\n                if (\n                  activeGesture.current === '' ||\n                  activeGesture.current === 'volume'\n                ) {\n                  activeGesture.current = 'volume';\n\n                  if (gestureState.dy >= 0) {\n                    seekVolumeDy.current = -Math.round(\n                      gestureState.dy / volumeFactor.current\n                    );\n                    const boundHeight = clamp(\n                      seekVolume.current + seekVolumeDy.current,\n                      0,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n\n                    const originalVolume = seekToOriginalValue(\n                      boundHeight,\n                      MAX_VOLUME,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n                    volumeTipViewRef.current?.updateState({\n                      showTip: true,\n                      tipText: `${originalVolume}%`,\n                      icon: getVolumeIcon(\n                        originalVolume,\n                        MAX_VOLUME,\n                        volumeBarTheme.iconSize,\n                        volumeBarTheme.iconColor\n                      ),\n                    });\n                    volumeBarHeight.setValue(boundHeight);\n                    onGestureMove?.(GestureEventType.VOLUME, originalVolume);\n                  } else {\n                    seekVolumeDy.current = Math.round(\n                      Math.abs(gestureState.dy) / volumeFactor.current\n                    );\n                    const boundHeight = clamp(\n                      seekVolume.current + seekVolumeDy.current,\n                      0,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n\n                    const originalVolume = seekToOriginalValue(\n                      boundHeight,\n                      MAX_VOLUME,\n                      layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n                    );\n                    volumeTipViewRef.current?.updateState({\n                      showTip: true,\n                      tipText: `${originalVolume}%`,\n                      icon: getVolumeIcon(\n                        originalVolume,\n                        MAX_VOLUME,\n                        volumeBarTheme.iconSize,\n                        volumeBarTheme.iconColor\n                      ),\n                    });\n                    volumeBarHeight.setValue(boundHeight);\n                    onGestureMove?.(GestureEventType.VOLUME, originalVolume);\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      onPanResponderRelease: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => {\n        if (\n          !gestureEnabled.current ||\n          !isSeekable.current ||\n          layoutOption?.current !== 'advanced'\n        )\n          return;\n\n        if (activeGesture.current === 'track') {\n          const time = currentTime.current + minTime.current;\n          onGestureEnd?.(GestureEventType.TRACK, time);\n          tipViewRef.current?.updateState({\n            showTip: false,\n            autoHide: true,\n          });\n        } else if (activeGesture.current === 'volume') {\n          volumeTipViewRef.current?.updateState({\n            showTip: false,\n            tipText: '',\n          });\n          const boundHeight = clamp(\n            seekVolume.current + seekVolumeDy.current,\n            0,\n            layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n          );\n          seekVolume.current = boundHeight;\n          const originalVolume = seekToOriginalValue(\n            boundHeight,\n            MAX_VOLUME,\n            layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n          );\n          onGestureEnd?.(GestureEventType.VOLUME, originalVolume);\n        } else {\n          brightnessTipViewRef.current?.updateState({\n            showTip: false,\n            tipText: '',\n          });\n          const boundHeight = clamp(\n            seekBrightness.current + seekBrightnessDy.current,\n            0,\n            layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n          );\n          seekBrightness.current = boundHeight;\n          const originalBrightness = seekToOriginalValue(\n            boundHeight,\n            MAX_BRIGHTNESS,\n            layoutSize.current.height * BAR_HEIGHT_PERCENTAGE\n          );\n          onGestureEnd?.(GestureEventType.BRIGHTNESS, originalBrightness);\n        }\n\n        activeGesture.current = '';\n        storeDx.current = [];\n        storeDy.current = [];\n      },\n      onPanResponderTerminationRequest: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => true,\n      onPanResponderTerminate: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => {},\n      onShouldBlockNativeResponder: (\n        e: GestureResponderEvent,\n        gestureState: PanResponderGestureState\n      ) => true,\n    })\n  );\n\n  return (\n    <View\n      style={[styles.container, style]}\n      {...panResponder.current.panHandlers}\n    >\n      <TouchableOpacity\n        style={styles.innerContainer}\n        activeOpacity={1}\n        onPress={onScreenTouch}\n      >\n        {playerConfig?.layoutMode !== 'basic' && (\n          <RippleView\n            ref={leftRippleViewRef}\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: 0,\n              bottom: 0,\n              width: dimension.width / 4,\n            }}\n            rippleStyle={{ right: 0 }}\n            rippleSize={dimension.height / 2}\n          >\n            <IconRewind\n              style={{ transform: [{ scaleX: isRTL ? -1 : 1 }] }}\n              size={RIPPLE_ICON_SIZE}\n              color={RIPPLE_ICON_COLOR}\n            />\n          </RippleView>\n        )}\n        {playerConfig?.layoutMode !== 'basic' && (\n          <RippleView\n            ref={rightRippleViewRef}\n            style={{\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              bottom: 0,\n              width: dimension.width / 4,\n            }}\n            rippleStyle={{ left: 0 }}\n            rippleSize={dimension.height / 2}\n          >\n            <IconFastForward\n              style={{ transform: [{ scaleX: isRTL ? -1 : 1 }] }}\n              size={RIPPLE_ICON_SIZE}\n              color={RIPPLE_ICON_COLOR}\n            />\n          </RippleView>\n        )}\n\n        {playerConfig?.layoutMode !== 'basic' && (\n          <SeekBarTipView\n            ref={volumeTipViewRef}\n            parentStyle={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              bottom: 0,\n              width: dimension.width / 4,\n            }}\n            style={{\n              backgroundColor: CONTAINER_BACKGROUND_COLOR,\n              borderRadius: CONTAINER_BORDER_RADIUS,\n            }}\n            dimension={dimension}\n            barHeight={volumeBarHeight}\n            heightPercentage={BAR_HEIGHT_PERCENTAGE}\n            icon={\n              <IconVolume2\n                size={volumeBarTheme.iconSize}\n                color={volumeBarTheme.iconColor}\n              />\n            }\n            theme={volumeBarTheme}\n          />\n        )}\n        {playerConfig?.layoutMode !== 'basic' && (\n          <SeekBarTipView\n            ref={brightnessTipViewRef}\n            parentStyle={{\n              position: 'absolute',\n              top: 0,\n              right: 0,\n              bottom: 0,\n              width: dimension.width / 4,\n            }}\n            style={{\n              backgroundColor: CONTAINER_BACKGROUND_COLOR,\n              borderRadius: CONTAINER_BORDER_RADIUS,\n            }}\n            dimension={dimension}\n            barHeight={brightnessBarHeight}\n            heightPercentage={BAR_HEIGHT_PERCENTAGE}\n            icon={\n              <IconSun\n                size={brightnessBarTheme.iconSize}\n                color={brightnessBarTheme.iconColor}\n              />\n            }\n            theme={brightnessBarTheme}\n          />\n        )}\n        {playerConfig?.layoutMode !== 'basic' && (\n          <TipView\n            ref={tipViewRef}\n            style={{\n              backgroundColor: CONTAINER_BACKGROUND_COLOR,\n              borderRadius: CONTAINER_BORDER_RADIUS,\n            }}\n            theme={tipViewTheme}\n          />\n        )}\n        {error && (\n          <ErrorView\n            style={{\n              left: 0,\n              top: 0,\n              right: 0,\n              bottom: 0,\n              backgroundColor: CONTAINER_BACKGROUND_COLOR,\n            }}\n            theme={errorTheme}\n            errorText={playerConfig?.errorText}\n          />\n        )}\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default React.memo(GestureView);\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n  },\n  innerContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n"],"mappings":"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"}