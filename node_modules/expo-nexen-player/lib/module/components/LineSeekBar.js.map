{"version":3,"names":["React","Animated","I18nManager","StyleSheet","View","boundPosition","trackToSeekValue","LineSeekBar","props","trackTime","totalTrackTime","layoutWidth","theme","isRTL","rtlMultiplier","seekWidth","useRef","Value","current","seekableDistance","useEffect","position","setValue","styles","container","totalTrack","height","lineHeight","borderRadius","backgroundColor","lineUnderlayColor","track","width","lineColor","create","left","right","bottom","justifyContent","zIndex"],"sources":["LineSeekBar.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  I18nManager,\n  StyleSheet,\n  View,\n} from 'react-native';\nimport type { LineBarTheme } from '../utils/Theme';\nimport { boundPosition, trackToSeekValue } from '../utils/MathUtil';\n\nexport interface LineSeekBarTheme extends LineBarTheme {\n  lineHeight?: number;\n}\n\ntype LineSeekBarProps = {\n  trackTime: number;\n  totalTrackTime: number;\n  layoutWidth: number;\n  theme?: LineSeekBarTheme;\n};\n\nconst LineSeekBar = (props: LineSeekBarProps) => {\n  const { trackTime, totalTrackTime, layoutWidth, theme } = props;\n  const isRTL = I18nManager.isRTL;\n  const rtlMultiplier = isRTL ? -1 : 1;\n\n  const seekWidth = React.useRef(new Animated.Value(0)).current;\n  const seekableDistance = React.useRef(0);\n\n  React.useEffect(() => {\n    seekableDistance.current = layoutWidth * rtlMultiplier;\n    const position = boundPosition(\n      trackToSeekValue(trackTime, totalTrackTime, seekableDistance.current),\n      seekableDistance.current\n    );\n    seekWidth.setValue(position * rtlMultiplier);\n  }, [trackTime, totalTrackTime, layoutWidth]);\n  \n  return (\n    <View style={styles.container}>\n      <View\n        style={[\n          styles.totalTrack,\n          {\n            height: theme?.lineHeight,\n            borderRadius: theme?.lineHeight! / 2,\n            backgroundColor: theme?.lineUnderlayColor,\n          },\n        ]}\n      />\n      <Animated.View\n        style={[\n          styles.track,\n          {\n            width: seekWidth,\n            height: theme?.lineHeight,\n            borderRadius: theme?.lineHeight! / 2,\n            backgroundColor: theme?.lineColor,\n          },\n        ]}\n      />\n    </View>\n  );\n};\n\nexport default LineSeekBar;\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    justifyContent: 'center',\n    zIndex: 999,\n  },\n  totalTrack: {\n    position: 'absolute',\n    width: '100%',\n    height: 2,\n    borderRadius: 1,\n  },\n  track: {\n    height: 2,\n    borderRadius: 1,\n  },\n});\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,QADF,EAEEC,WAFF,EAGEC,UAHF,EAIEC,IAJF,QAKO,cALP;AAOA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,mBAAhD;;AAaA,MAAMC,WAAW,GAAIC,KAAD,IAA6B;EAC/C,MAAM;IAAEC,SAAF;IAAaC,cAAb;IAA6BC,WAA7B;IAA0CC;EAA1C,IAAoDJ,KAA1D;EACA,MAAMK,KAAK,GAAGX,WAAW,CAACW,KAA1B;EACA,MAAMC,aAAa,GAAGD,KAAK,GAAG,CAAC,CAAJ,GAAQ,CAAnC;EAEA,MAAME,SAAS,GAAGf,KAAK,CAACgB,MAAN,CAAa,IAAIf,QAAQ,CAACgB,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAAtD;EACA,MAAMC,gBAAgB,GAAGnB,KAAK,CAACgB,MAAN,CAAa,CAAb,CAAzB;EAEAhB,KAAK,CAACoB,SAAN,CAAgB,MAAM;IACpBD,gBAAgB,CAACD,OAAjB,GAA2BP,WAAW,GAAGG,aAAzC;IACA,MAAMO,QAAQ,GAAGhB,aAAa,CAC5BC,gBAAgB,CAACG,SAAD,EAAYC,cAAZ,EAA4BS,gBAAgB,CAACD,OAA7C,CADY,EAE5BC,gBAAgB,CAACD,OAFW,CAA9B;IAIAH,SAAS,CAACO,QAAV,CAAmBD,QAAQ,GAAGP,aAA9B;EACD,CAPD,EAOG,CAACL,SAAD,EAAYC,cAAZ,EAA4BC,WAA5B,CAPH;EASA,oBACE,oBAAC,IAAD;IAAM,KAAK,EAAEY,MAAM,CAACC;EAApB,gBACE,oBAAC,IAAD;IACE,KAAK,EAAE,CACLD,MAAM,CAACE,UADF,EAEL;MACEC,MAAM,EAAEd,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEe,UADjB;MAEEC,YAAY,EAAE,CAAAhB,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEe,UAAP,IAAqB,CAFrC;MAGEE,eAAe,EAAEjB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEkB;IAH1B,CAFK;EADT,EADF,eAWE,oBAAC,QAAD,CAAU,IAAV;IACE,KAAK,EAAE,CACLP,MAAM,CAACQ,KADF,EAEL;MACEC,KAAK,EAAEjB,SADT;MAEEW,MAAM,EAAEd,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEe,UAFjB;MAGEC,YAAY,EAAE,CAAAhB,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEe,UAAP,IAAqB,CAHrC;MAIEE,eAAe,EAAEjB,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEqB;IAJ1B,CAFK;EADT,EAXF,CADF;AAyBD,CA1CD;;AA4CA,eAAe1B,WAAf;AAEA,MAAMgB,MAAM,GAAGpB,UAAU,CAAC+B,MAAX,CAAkB;EAC/BV,SAAS,EAAE;IACTH,QAAQ,EAAE,UADD;IAETc,IAAI,EAAE,CAFG;IAGTC,KAAK,EAAE,CAHE;IAITC,MAAM,EAAE,CAJC;IAKTC,cAAc,EAAE,QALP;IAMTC,MAAM,EAAE;EANC,CADoB;EAS/Bd,UAAU,EAAE;IACVJ,QAAQ,EAAE,UADA;IAEVW,KAAK,EAAE,MAFG;IAGVN,MAAM,EAAE,CAHE;IAIVE,YAAY,EAAE;EAJJ,CATmB;EAe/BG,KAAK,EAAE;IACLL,MAAM,EAAE,CADH;IAELE,YAAY,EAAE;EAFT;AAfwB,CAAlB,CAAf"}