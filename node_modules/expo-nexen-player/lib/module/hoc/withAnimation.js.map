{"version":3,"names":["React","Animated","ANIMATION_DURATION","USE_NATIVE_DRIVER","withAnimation","ComposedComponent","WrapperComponent","forwardRef","props","ref","animateFrom","distance","style","composedComponentProps","opacity","useRef","Value","current","margin","startComponentShowAnimation","callback","parallel","timing","toValue","duration","useNativeDriver","start","startComponentHideAnimation","useImperativeHandle","show","hide","wrapperStyle","marginLeft","undefined","marginTop","marginRight","marginBottom"],"sources":["withAnimation.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Animated,\n  StyleProp,\n  ViewStyle,\n} from 'react-native';\n\nconst ANIMATION_DURATION = 350;\nconst USE_NATIVE_DRIVER = false;\n\nexport type WrapperComponentRef = {\n  show: (callback?: Animated.EndCallback) => void;\n  hide: (callback?: Animated.EndCallback) => void;\n};\n\nexport const withAnimation = <ComposedComponentProps extends object>(\n  ComposedComponent: React.ComponentType<ComposedComponentProps>\n) => {\n  type WrapperComponentProps = ComposedComponentProps & {\n    animateFrom: 'LEFT' | 'RIGHT' | 'TOP' | 'BOTTOM';\n    distance: number;\n    style?: StyleProp<ViewStyle>;\n  };\n\n  const WrapperComponent = React.forwardRef<\n    WrapperComponentRef,\n    WrapperComponentProps\n  >((props, ref) => {\n    const {\n      animateFrom,\n      distance,\n      style,\n      ...composedComponentProps\n    } = props;\n\n    const opacity = React.useRef(new Animated.Value(0)).current;\n    const margin = React.useRef(new Animated.Value(-distance)).current;\n\n    const startComponentShowAnimation = (callback?: Animated.EndCallback) => {\n      Animated.parallel([\n        Animated.timing(opacity, {\n          toValue: 1,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(margin, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n      ]).start(callback);\n    };\n\n    const startComponentHideAnimation = (callback?: Animated.EndCallback) => {\n      Animated.parallel([\n        Animated.timing(opacity, {\n          toValue: 0,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n        Animated.timing(margin, {\n          toValue: -distance,\n          duration: ANIMATION_DURATION,\n          useNativeDriver: USE_NATIVE_DRIVER,\n        }),\n      ]).start(callback);\n    };\n\n    React.useImperativeHandle(ref, () => ({\n      show: (callback?: Animated.EndCallback) => {\n        startComponentShowAnimation(callback);\n      },\n      hide: (callback?: Animated.EndCallback) => {\n        startComponentHideAnimation(callback);\n      },\n    }));\n\n    const wrapperStyle = {\n      opacity,\n      marginLeft: animateFrom === 'LEFT' ? margin : undefined,\n      marginTop: animateFrom === 'TOP' ? margin : undefined,\n      marginRight: animateFrom === 'RIGHT' ? margin : undefined,\n      marginBottom: animateFrom === 'BOTTOM' ? margin : undefined,\n    };\n\n    return (\n      <ComposedComponent\n        style={[style, wrapperStyle]}\n        {...(composedComponentProps as ComposedComponentProps)}\n      />\n    );\n  });\n\n  return WrapperComponent;\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,QADF,QAIO,cAJP;AAMA,MAAMC,kBAAkB,GAAG,GAA3B;AACA,MAAMC,iBAAiB,GAAG,KAA1B;AAOA,OAAO,MAAMC,aAAa,GACxBC,iBAD2B,IAExB;EAOH,MAAMC,gBAAgB,gBAAGN,KAAK,CAACO,UAAN,CAGvB,CAACC,KAAD,EAAQC,GAAR,KAAgB;IAChB,MAAM;MACJC,WADI;MAEJC,QAFI;MAGJC,KAHI;MAIJ,GAAGC;IAJC,IAKFL,KALJ;IAOA,MAAMM,OAAO,GAAGd,KAAK,CAACe,MAAN,CAAa,IAAId,QAAQ,CAACe,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAApD;IACA,MAAMC,MAAM,GAAGlB,KAAK,CAACe,MAAN,CAAa,IAAId,QAAQ,CAACe,KAAb,CAAmB,CAACL,QAApB,CAAb,EAA4CM,OAA3D;;IAEA,MAAME,2BAA2B,GAAIC,QAAD,IAAqC;MACvEnB,QAAQ,CAACoB,QAAT,CAAkB,CAChBpB,QAAQ,CAACqB,MAAT,CAAgBR,OAAhB,EAAyB;QACvBS,OAAO,EAAE,CADc;QAEvBC,QAAQ,EAAEtB,kBAFa;QAGvBuB,eAAe,EAAEtB;MAHM,CAAzB,CADgB,EAMhBF,QAAQ,CAACqB,MAAT,CAAgBJ,MAAhB,EAAwB;QACtBK,OAAO,EAAE,CADa;QAEtBC,QAAQ,EAAEtB,kBAFY;QAGtBuB,eAAe,EAAEtB;MAHK,CAAxB,CANgB,CAAlB,EAWGuB,KAXH,CAWSN,QAXT;IAYD,CAbD;;IAeA,MAAMO,2BAA2B,GAAIP,QAAD,IAAqC;MACvEnB,QAAQ,CAACoB,QAAT,CAAkB,CAChBpB,QAAQ,CAACqB,MAAT,CAAgBR,OAAhB,EAAyB;QACvBS,OAAO,EAAE,CADc;QAEvBC,QAAQ,EAAEtB,kBAFa;QAGvBuB,eAAe,EAAEtB;MAHM,CAAzB,CADgB,EAMhBF,QAAQ,CAACqB,MAAT,CAAgBJ,MAAhB,EAAwB;QACtBK,OAAO,EAAE,CAACZ,QADY;QAEtBa,QAAQ,EAAEtB,kBAFY;QAGtBuB,eAAe,EAAEtB;MAHK,CAAxB,CANgB,CAAlB,EAWGuB,KAXH,CAWSN,QAXT;IAYD,CAbD;;IAeApB,KAAK,CAAC4B,mBAAN,CAA0BnB,GAA1B,EAA+B,OAAO;MACpCoB,IAAI,EAAGT,QAAD,IAAqC;QACzCD,2BAA2B,CAACC,QAAD,CAA3B;MACD,CAHmC;MAIpCU,IAAI,EAAGV,QAAD,IAAqC;QACzCO,2BAA2B,CAACP,QAAD,CAA3B;MACD;IANmC,CAAP,CAA/B;IASA,MAAMW,YAAY,GAAG;MACnBjB,OADmB;MAEnBkB,UAAU,EAAEtB,WAAW,KAAK,MAAhB,GAAyBQ,MAAzB,GAAkCe,SAF3B;MAGnBC,SAAS,EAAExB,WAAW,KAAK,KAAhB,GAAwBQ,MAAxB,GAAiCe,SAHzB;MAInBE,WAAW,EAAEzB,WAAW,KAAK,OAAhB,GAA0BQ,MAA1B,GAAmCe,SAJ7B;MAKnBG,YAAY,EAAE1B,WAAW,KAAK,QAAhB,GAA2BQ,MAA3B,GAAoCe;IAL/B,CAArB;IAQA,oBACE,oBAAC,iBAAD;MACE,KAAK,EAAE,CAACrB,KAAD,EAAQmB,YAAR;IADT,GAEOlB,sBAFP,EADF;EAMD,CAnEwB,CAAzB;EAqEA,OAAOP,gBAAP;AACD,CA/EM"}